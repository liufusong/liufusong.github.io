[{"title":"jsåŠ¨æ€è®¡ç®—ç§»åŠ¨ç«¯remé€‚é…é—®é¢˜","date":"2017-04-20T06:33:37.000Z","path":"2017/04/20/jsåŠ¨æ€è®¡ç®—ç§»åŠ¨ç«¯remé€‚é…é—®é¢˜/","text":"æ‘˜è¦ï¼šcss3å’Œjsæ˜¯å®ç°remé€‚é… ç¬¬ä¸€ï¼šcss3çš„media queryæ¥å®ç°é€‚é…ï¼Œä¾‹å¦‚ä¸‹é¢è¿™æ ·ï¼š12345678910111213141516171819202122232425262728html &#123;font-size : 20px;&#125;@media only screen and (min-width: 401px)&#123;html &#123;font-size: 25px !important;&#125;&#125;@media only screen and (min-width: 428px)&#123;html &#123;font-size: 26.75px !important;&#125;&#125;@media only screen and (min-width: 481px)&#123;html &#123;font-size: 30px !important;&#125;&#125;@media only screen and (min-width: 569px)&#123;html &#123;font-size: 35px !important;&#125;&#125;@media only screen and (min-width: 641px)&#123;html &#123;font-size: 40px !important;&#125;&#125; ç¬¬äºŒé€šè¿‡jsåŠ¨æ€è®¾ç½®htmlå­—ä½“ï¼Œä¾‹å¦‚ä¸‹é¢è¿™æ ·123456789101112131415161718(function (doc, win) &#123; var docEl = doc.documentElement, resizeEvt = &apos;orientationchange&apos; in window ? &apos;orientationchange&apos; : &apos;resize&apos;, recalc = function () &#123; var clientWidth = docEl.clientWidth; if (!clientWidth) return; // é»˜è®¤è®¾è®¡å›¾ä¸º640çš„æƒ…å†µä¸‹1rem=100pxï¼›æ ¹æ®è‡ªå·±éœ€æ±‚ä¿®æ”¹ if(clientWidth&gt;=640)&#123; docEl.style.fontSize = &apos;100px&apos;; &#125;else&#123; docEl.style.fontSize = 100 * (clientWidth / 640) + &apos;px&apos;; &#125; &#125;; if (!doc.addEventListener) return; win.addEventListener(resizeEvt, recalc, false); doc.addEventListener(&apos;DOMContentLoaded&apos;, recalc, false);&#125;)(document, window); ä»¥ä¸Šä¸¤ç§æ–¹å¼å‡èƒ½å®ç°remé€‚é…","tags":[{"name":"rem","slug":"rem","permalink":"http://liufusong.github.io/tags/rem/"},{"name":"js","slug":"js","permalink":"http://liufusong.github.io/tags/js/"},{"name":"css3","slug":"css3","permalink":"http://liufusong.github.io/tags/css3/"},{"name":"media query","slug":"media-query","permalink":"http://liufusong.github.io/tags/media-query/"}]},{"title":"å€’è®¡æ—¶åŠŸèƒ½","date":"2017-04-19T05:08:08.000Z","path":"2017/04/19/å€’è®¡æ—¶åŠŸèƒ½/","text":"æ‘˜è¦ï¼š å€’è®¡æ—¶åŠŸèƒ½ è¯ä¸å¤šè¯´ç›´æ¥ä»£ç 123456789101112131415161718192021window.onload = function()&#123; showtime() function showtime()&#123; var www = document.getElementById(&apos;www&apos;);//é¡µé¢éœ€è¦æœ‰ä¸€ä¸ªidå±•ç¤ºå€’è®¡æ—¶ var Newtime = new Date();// è·å–å½“å‰æ—¶é—´ var endtime = new Date(&apos;2015/12/11,14:44:00&apos;); // è®¾ç½®ç»“æŸæ—¶é—´ var lefttime=parseInt((endtime.getTime()-Newtime.getTime())/1000); //è·å–å·®å€¼ if(lefttime&gt;0)&#123; var date = parseInt(lefttime/(60*60*24)); //è½¬åŒ–ä¸ºå¤© var hours = parseInt(lefttime/(60*60)%24);//è½¬åŒ–ä¸ºå°æ—¶ var minute= parseInt(lefttime/60%60);//è½¬åŒ–ä¸ºåˆ†é’Ÿ var second= parseInt(lefttime%60); //è½¬åŒ–ä¸ºç§’ www.innerHTML = date+&apos;æ—¥&apos;+hours+&apos;:&apos;+minute+&apos;:&apos;+second //å±•ç¤º setTimeout(showtime,1000) &#125;else&#123; //å€’è®¡æ—¶å½’é›¶ www.innerHTML = 00+&apos;æ—¥&apos;+0+&apos;:&apos;+0+&apos;:&apos;+0 &#125; &#125;&#125;","tags":[{"name":"å€’è®¡æ—¶","slug":"å€’è®¡æ—¶","permalink":"http://liufusong.github.io/tags/å€’è®¡æ—¶/"}]},{"title":"å‰ç«¯æŠ€æœ¯é“¾æ¥","date":"2017-04-17T06:54:20.000Z","path":"2017/04/17/å‰ç«¯æŠ€æœ¯é“¾æ¥/","text":"æ‘˜è¦: å‰ç«¯æŠ€æœ¯é“¾æ¥ swiperç§»åŠ¨ç«¯è§¦æ‘¸æ»‘åŠ¨æ’ä»¶Framework7å‰ç«¯æ¡†æ¶ï¼Œæ˜¯å¼€å‘äººå‘˜å¯ä»¥åŸºäº web æŠ€æœ¯æ„å»º IOS7 ç¨‹åºcss3loadingåŠ¨ç”»å›¾ç‰‡æ‡’åŠ è½½SWEETALERT2-å¼ºå¤§çš„çº¯JSæ¨¡æ€æ¶ˆæ¯å¯¹è¯æ¡†æ’ä»¶ç½‘ç«™ç‚«é…·æ•ˆæœNode.js v6.10.2 æ–‡æ¡£MDNæä¾›æœ‰å…³å¼€æ”¾ç½‘ç»œæŠ€æœ¯(Open Web)çš„ä¿¡æ¯å‰ç«¯ç¬”è®°ç½‘","tags":[{"name":"é“¾æ¥","slug":"é“¾æ¥","permalink":"http://liufusong.github.io/tags/é“¾æ¥/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://liufusong.github.io/tags/å‰ç«¯/"}]},{"title":"hexo+githubåˆ›å»ºå±äºè‡ªå·±çš„åšå®¢","date":"2017-04-14T06:05:59.000Z","path":"2017/04/14/hexo-githubåˆ›å»ºå±äºè‡ªå·±çš„åšå®¢/","text":"æ‘˜è¦ï¼š hexo+githubåˆ›å»ºåšå®¢å­¦ä¸ä¼šå°±å»åƒç¿” ç›´æ¥ä¸Šå®ç”¨çš„ä¸ç½—å—¦ é…ç½®ç¯å¢ƒå®‰è£…Nodeï¼ˆå¿…é¡»ï¼‰ ä½œç”¨ï¼šç”¨æ¥ç”Ÿæˆé™æ€é¡µé¢çš„ åˆ°Node.jså®˜ç½‘ä¸‹è½½ç›¸åº”å¹³å°çš„æœ€æ–°ç‰ˆæœ¬ï¼Œä¸€è·¯å®‰è£…å³å¯ã€‚ å®‰è£…Gitï¼ˆå¿…é¡»ï¼‰ ä½œç”¨ï¼šæŠŠæœ¬åœ°çš„hexoå†…å®¹æäº¤åˆ°githubä¸Šå». å®‰è£…Xcodeå°±è‡ªå¸¦æœ‰Gitï¼Œæˆ‘å°±ä¸å¤šè¯´äº†ã€‚ ç”³è¯·GitHubï¼ˆå¿…é¡»ï¼‰ ä½œç”¨ï¼šæ˜¯ç”¨æ¥åšåšå®¢çš„è¿œç¨‹åˆ›åº“ã€åŸŸåã€æœåŠ¡å™¨ä¹‹ç±»çš„ï¼Œæ€ä¹ˆä¸æœ¬åœ°hexoå»ºç«‹è¿æ¥ç­‰ä¸‹è®²ã€‚ githubè´¦å·æˆ‘ä¹Ÿä¸å†å•°å—¦äº†,æ²¡æœ‰çš„è¯ç›´æ¥ç”³è¯·å°±è¡Œäº†ï¼Œè·Ÿä¸€èˆ¬çš„æ³¨å†Œè´¦å·å·®ä¸å¤šï¼ŒSSH Keysï¼Œçœ‹ä½ è‡ªå·±äº†ï¼Œå¯ä»¥ä¸é…åˆ¶ï¼Œä¸é…ç½®çš„è¯ä»¥åæ¯æ¬¡å¯¹è‡ªå·±çš„åšå®¢æœ‰æ”¹åŠ¨æäº¤çš„æ—¶å€™å°±è¦æ‰‹åŠ¨è¾“å…¥è´¦å·å¯†ç ï¼Œé…ç½®äº†å°±ä¸éœ€è¦äº†ï¼Œæ€ä¹ˆé…ç½®æˆ‘å°±ä¸å¤šè¯´äº†ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹ã€‚ æ­£å¼å®‰è£…HexoNodeå’ŒGitéƒ½å®‰è£…å¥½å,é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹,å¦‚blog,ç”¨æˆ·å­˜æ”¾hexoçš„é…ç½®æ–‡ä»¶,ç„¶åè¿›å…¥blogé‡Œå®‰è£…Hexoã€‚ æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…Hexoï¼š1sudo npm install -g hexo åˆå§‹åŒ–ç„¶åï¼Œæ‰§è¡Œinitå‘½ä»¤åˆå§‹åŒ–hexo,å‘½ä»¤ï¼š1hexo init å¥½å•¦ï¼Œè‡³æ­¤ï¼Œå…¨éƒ¨å®‰è£…å·¥ä½œå·²ç»å®Œæˆï¼blogå°±æ˜¯ä½ çš„åšå®¢æ ¹ç›®å½•ï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½åœ¨é‡Œé¢è¿›è¡Œã€‚ ç”Ÿæˆé™æ€é¡µé¢1hexo generateï¼ˆhexo gä¹Ÿå¯ä»¥ï¼‰ æœ¬åœ°å¯åŠ¨ å¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œè¿›è¡Œæ–‡ç« é¢„è§ˆè°ƒè¯•ï¼Œå‘½ä»¤ï¼š1hexo server æµè§ˆå™¨è¾“å…¥http://localhost:4000 æˆ‘ä¸çŸ¥é“ä½ ä»¬èƒ½ä¸èƒ½ï¼Œåæ­£æˆ‘ä¸èƒ½ï¼Œå› ä¸ºæˆ‘è¿˜æœ‰ç¯å¢ƒæ²¡é…ç½®å¥½ é…ç½®Githubå»ºç«‹Repository å»ºç«‹ä¸ä½ ç”¨æˆ·åå¯¹åº”çš„ä»“åº“ï¼Œä»“åº“åå¿…é¡»ä¸ºã€your_user_name.github.ioã€‘ï¼Œå›ºå®šå†™æ³• ç„¶åå»ºç«‹å…³è”ï¼Œæˆ‘çš„blogåœ¨æœ¬åœ°/Users/leopard/blogï¼Œblogæ˜¯æˆ‘ä¹‹å‰å»ºçš„ä¸œè¥¿ä¹Ÿå…¨åœ¨è¿™é‡Œé¢ï¼Œæœ‰ï¼š _config.yml node_modules public source db.json package.json scaffolds themes ç°åœ¨æˆ‘ä»¬éœ€è¦_config.ymlæ–‡ä»¶ï¼Œæ¥å»ºç«‹å…³è”ï¼Œå‘½ä»¤ï¼š vim _config.yml ç¿»åˆ°æœ€ä¸‹é¢ï¼Œæ”¹æˆæˆ‘è¿™æ ·å­çš„ deploy: type: git repo: https://github.com/leopardpan/leopardpan.github.io.git branch: master ç„¶åæ‰§è¡Œå‘½ä»¤ï¼š npm install hexo-deployer-git --save ç½‘ä¸Šä¼šæœ‰å¾ˆå¤šè¯´æ³•ï¼Œæœ‰çš„typeæ˜¯github, è¿˜æœ‰repositoryæœ€åé¢çš„åç¼€ä¹Ÿä¸ä¸€æ ·ï¼Œæ˜¯github.com.gitï¼Œæˆ‘ä¹Ÿè¸©äº†å¾ˆå¤šå‘ï¼Œæˆ‘ç°åœ¨çš„ç‰ˆæœ¬æ˜¯hexo: 3.1.1ï¼Œæ‰§è¡Œå‘½ä»¤hexo -vsersionå°±å‡ºæ¥äº†,è²Œä¼¼3.0åå…¨éƒ¨æ”¹æˆæˆ‘ä¸Šé¢è¿™ç§æ ¼å¼äº†ã€‚ å¿˜äº†è¯´äº†ï¼Œæˆ‘æ²¡ç”¨SSH Keyså¦‚æœä½ ç”¨äº†SSH Keysçš„è¯ç›´æ¥åœ¨githubé‡Œå¤åˆ¶SSHçš„å°±è¡Œäº†ï¼Œæ€»å…±å°±ä¸¤ç§åè®®ï¼Œç›¸ä¿¡ä½ æ‡‚çš„ã€‚ ç„¶åï¼Œæ‰§è¡Œé…ç½®å‘½ä»¤ï¼š hexo deploy ç„¶åå†æµè§ˆå™¨ä¸­è¾“å…¥https://liufusong.github.io/å°±è¡Œäº†ï¼Œæˆ‘çš„githubçš„è´¦æˆ·å«liufusong,æŠŠè¿™ä¸ªæ”¹æˆä½ githubçš„è´¦æˆ·åå°±è¡Œäº† éƒ¨ç½²æ­¥éª¤æ¯æ¬¡éƒ¨ç½²çš„æ­¥éª¤ï¼Œå¯æŒ‰ä»¥ä¸‹ä¸‰æ­¥æ¥è¿›è¡Œã€‚ hexo clean hexo generate hexo deploy ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼š hexo new&quot;postName&quot; #æ–°å»ºæ–‡ç«  hexo new page&quot;pageName&quot; #æ–°å»ºé¡µé¢ hexo generate #ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½• hexo server #å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œ&apos;ctrl + c&apos;å…³é—­serverï¼‰ hexo deploy #å°†.deployç›®å½•éƒ¨ç½²åˆ°GitHub hexo help # æŸ¥çœ‹å¸®åŠ© hexo version #æŸ¥çœ‹Hexoçš„ç‰ˆæœ¬ æŠ¥é”™æ€»ç»“ ERROR Deployer not found: git æˆ–è€… ERROR Deployer not found: github è§£å†³æ–¹æ³•ï¼š npm install hexo-deployer-git â€“save å¦‚å‘ç”ŸæŠ¥é”™ï¼š ERROR Process failed: layout/.DS_Store , é‚£ä¹ˆè¿›å…¥ä¸»é¢˜é‡Œé¢layoutå’Œ_partialç›®å½•ä¸‹ï¼Œä½¿ç”¨åˆ é™¤å‘½ä»¤ï¼š rm-rf.DS_Store ERROR Plugin load failed: hexo-server åŸå› ï¼š Besides,utilities are separated into a standalone module.hexo.util is not reachable anymore. è§£å†³æ–¹æ³•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š sudo npm install hexo-server æ‰§è¡Œå‘½ä»¤hexo serverï¼Œæç¤ºï¼šUsage: hexo â€¦. åŸå› ï¼š æˆ‘è®¤ä¸ºæ˜¯æ²¡æœ‰ç”Ÿæˆæœ¬åœ°æœåŠ¡ è§£å†³æ–¹æ³•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š npm install hexo-server --save æç¤ºï¼šhexo-server@0.1.2 node_modules/hexo-server â€¦. è¡¨ç¤ºæˆåŠŸäº† è¿™ä¸ªæ—¶å€™å†æ‰§è¡Œï¼š hexo-server å¾—åˆ°: I NFOHexois running at http://0.0.0.0:4000/.PressCtrl+C to stop. è¿™ä¸ªæ—¶å€™å†ç‚¹å‡»http://0.0.0.0:4000ï¼Œæ­£å¸¸æƒ…å†µä¸‹åº”è¯¥æ˜¯æœ€åŸå§‹çš„ç”»é¢ï¼Œä½†æ˜¯æˆ‘çœ‹åˆ°çš„æ˜¯ï¼š ç™½æ¿å’ŒCannot GET / å‡ ä¸ªå­— åŸå› ï¼š ç”±äº2.6ä»¥åå°±æ›´æ–°äº†ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é…ç½®äº›ä¸œè¥¿ï¼Œæˆ‘ä»¬éœ€è¦è¾“å…¥ä¸‹é¢ä¸‰è¡Œå‘½ä»¤ï¼š npm install hexo-renderer-ejs --save npm install hexo-renderer-stylus --save npm install hexo-renderer-marked --save è¿™ä¸ªæ—¶å€™å†é‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œå‘½ä»¤ï¼š hexo generateï¼ˆæˆ–hexo gï¼‰ å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼š hexo serverï¼ˆæˆ–hexo sï¼‰ å†ï¼Œç‚¹å‡»http://0.0.0.0:4000,OKç»ˆäºå¯ä»¥çœ‹åˆ°å±äºä½ è‡ªå·±çš„blogå•¦ï¼ŒğŸ˜„ï¼Œè™½ç„¶å¾ˆç®€é™‹ï¼Œä½†å¥½æ­¹æœ‰äº†ä¸€ä¸ªå±äºè‡ªå·±çš„å°çªäº†ï¼Œæœ¬åœ°å·²ç»ç®€å•çš„è®¾ç½®å¥½äº†ï¼Œä½†æ˜¯ç°åœ¨åŸŸåå’ŒæœåŠ¡å™¨éƒ½æ˜¯åŸºäºè‡ªå·±çš„ç”µè„‘ï¼Œæ¥ä¸‹æ¥éœ€è¦è·Ÿgithubè¿›è¡Œå…³è”ã€‚","tags":[{"name":"hexo","slug":"hexo","permalink":"http://liufusong.github.io/tags/hexo/"},{"name":"github","slug":"github","permalink":"http://liufusong.github.io/tags/github/"}]},{"title":"angularå·¥ä½œä¸­æœ€å¸¸ç”¨çš„å‡ ç§åŠŸèƒ½","date":"2017-04-12T13:54:19.000Z","path":"2017/04/12/angularå·¥ä½œä¸­æœ€å¸¸ç”¨çš„å‡ ç§åŠŸèƒ½/","text":"æ‘˜è¦ï¼š AngularJS æœ€å¸¸ç”¨çš„åŠŸèƒ½ ç¬¬ä¸€ è¿­ä»£è¾“å‡ºä¹‹ng-repeatæ ‡ç­¾ ng-repeatè®©table ul olç­‰æ ‡ç­¾å’Œjsé‡Œçš„æ•°ç»„å®Œç¾ç»“åˆ 12345&lt;ul&gt; &lt;li ng-repeat=&quot;person in persons&quot;&gt; &#123; &#123; person.name &#125; &#125; is &#123; &#123;person.age&#125; &#125; years old. &lt;/li&gt;&lt;/ul&gt; ä½ ç”šè‡³å¯ä»¥æŒ‡å®šè¾“å‡ºçš„é¡ºåºï¼š 1&lt;li ng-repeat=&quot;person in persons | orderBy:&apos;name&apos;&quot;&gt; ç¬¬äºŒ åŠ¨æ€ç»‘å®šä¹‹ng-modelæ ‡ç­¾ ä»»ä½•æœ‰ç”¨æˆ·è¾“å…¥ï¼Œåªè¦æ˜¯æœ‰å€¼çš„htmlæ ‡ç­¾ï¼Œéƒ½å¯ä»¥åŠ¨æ€ç»‘å®šjsä¸­çš„å˜é‡ï¼Œè€Œä¸”æ˜¯åŠ¨æ€ç»‘å®šã€‚ 1&lt;input type=&quot;text&quot; ng-model=&apos;password&apos;&gt; å¯¹äºç»‘å®šçš„å˜é‡ï¼Œä½ å¯ä»¥ä½¿ç”¨{ { } } ç›´æ¥å¼•ç”¨ 1&lt;span&gt;you input password is &#123;&#123;password&#125;&#125;&lt;/span&gt; å¦‚æœä½ ç†Ÿæ‚‰fiterï¼Œä½ å¯ä»¥å¾ˆå®¹æ˜“çš„æŒ‰ä½ çš„éœ€è¦æ ¼å¼è¾“å‡º 1&lt;span&gt;&#123; &#123; 1288323623006 | date:&apos;yyyy-MM-dd HH:mm:ss Z&apos; &#125; &#125; &lt;/span&gt; ç¬¬ä¸‰ ç»‘å®šç‚¹å‡»äº‹ä»¶ä¹‹ng-clickäº‹ä»¶ ä½¿ç”¨ng-clickä½ å¯ä»¥å¾ˆå®¹æ˜“çš„ä¸ºä¸€ä¸ªæ ‡ç­¾ç»‘å®šç‚¹å‡»äº‹ä»¶ã€‚ 1&lt;button ng-click=&quot;pressMe()&quot;/&gt; å½“ç„¶å‰ææ˜¯ä½ è¦åœ¨$scopeåŸŸä¸­å®šä¹‰çš„è‡ªå·±çš„pressMeæ–¹æ³•ã€‚ å’Œä¼ ç»Ÿçš„onclickæ–¹æ³•ä¸åŒï¼Œä½ ç”šè‡³å¯ä»¥ä¸ºng-clickæ–¹æ³•ä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼Œå°±åƒè¿™æ ·ï¼š 12345&lt;ul&gt; &lt;li ng-repeat=&quot;person in persons&quot;&gt; &lt;button ng-click=&quot;printf(person)&quot;/&gt; &lt;/li&gt;&lt;/ul&gt; å½“ç„¶è¿˜æœ‰ng-dblclickæ ‡ç­¾ ç¬¬å›› åˆ†æ”¯è¯­å¥ä¹‹ng-switch onã€ng-if/ng-show/ng-hide/ng-disabledæ ‡ç­¾ åˆ†æ”¯è¯­å¥è®©ä½ åœ¨ç•Œé¢ä¸Šéƒ½å¯ä»¥å†™é€»è¾‘åˆ¤æ–­ã€‚12345678910111213&lt;ul&gt; &lt;li ng-repeat=&quot;person in persons&quot;&gt; &lt;span ng-switch on=&quot;person.sex&quot;&gt; &lt;span ng-switch-when=&quot;1&quot;&gt;you are a boy&lt;/span&gt; &lt;span ng-switch-when=&quot;2&quot;&gt;you are a girl&lt;/span&gt; &lt;/span&gt; &lt;span ng-if=&quot;person.sex==1&quot;&gt;you may be a father&lt;/span&gt; &lt;span ng-show=&quot;person.sex==2&quot;&gt;you may be a mother&lt;/span&gt; &lt;span&gt; please input your baby&apos;s name:&lt;input type=&quot;text&quot; ng-disabled=&quot;!person.hasBaby&quot;/&gt; &lt;/span&gt; &lt;/li&gt;&lt;/ul&gt; ç¬¬äº” æ ¡éªŒè¯­æ³•ä¹‹ng-trim ng-minlength ng-maxlength required ng-pattern ç­‰æ ‡ç­¾ è¡¨å•ä¸­çš„è¾“å…¥æ¡†ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„æ ‡ç­¾æ¥å®ç°å¯¹ç”¨æˆ·è¾“å…¥çš„æ ¡éªŒã€‚ ä»å­—é¢æ„æ€ä¸Šä½ å·²ç»çŸ¥é“äº†å®ƒä»¬çš„æ„æ€ã€‚ 123&lt;form name=&quot;yourForm&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;inputText&quot; required ng-trim=&quot;true&quot; ng-model=&quot;userNum&quot; ng-pattern=&quot;/^[0-9]*[1-9][0-9]*$/&quot; ng-maxlength=&quot;6&quot; maxlength=&quot;6&quot;/&gt;&lt;/form&gt; ä½ å¯ä»¥é€šè¿‡ $scope.yourForm.inputText.$error.required æ¥åˆ¤æ–­è¾“å…¥æ¡†æ˜¯å¦ä¸ºç©º ä½ å¯ä»¥é€šè¿‡ $scope.yourForm.inputText.$invalid æ¥åˆ¤æ–­è¾“å…¥çš„å†…å®¹æ˜¯å¦æ»¡è¶³ng-patternï¼Œng-maxlengthï¼Œmaxlength ä½ é€šè¿‡$scope.userNumè·å¾—çš„è¾“å…¥å†…å®¹æ˜¯å»æ‰å‰åç©ºç™½çš„ï¼Œå› ä¸ºng-trimçš„å­˜åœ¨ã€‚ç¬¬å…­ ä¸‹æ‹‰æ¡†ä¹‹ng-optionsæ ‡ç­¾ ng-optionsæ˜¯ä¸ºä¸‹æ‹‰æ¡†ä¸“é—¨æ‰“é€ çš„æ ‡ç­¾ã€‚ 1&lt;select ng-model=&quot;yourSelected&quot; ng-options=&quot;person.id as person.name in persons&quot;&gt;&lt;/select&gt; ä¸‹æ‹‰æ¡†ä¸­æ˜¾ç¤ºçš„æ˜¯person.nameï¼Œå½“ä½ é€‰ä¸­å…¶ä¸­ä¸€ä¸ªçš„æ—¶å€™ï¼Œä½ å¯ä»¥é€šè¿‡yourSelectedå¾—åˆ°ä½ é€‰ä¸­çš„person.id. ç¬¬ä¸ƒ æ§åˆ¶cssä¹‹ng-styleæ ‡ç­¾ ng-styleå¸®ä½ è½»æ¾æ§åˆ¶ä½ çš„csså±æ€§ 1&lt;span ng-style=&quot;myColor&quot;&gt;your color&lt;/span&gt; ä½ å¯ä»¥é€šè¿‡ç»™myColorèµ‹å€¼çš„å½¢å¼æ¥æ”¹å˜ä½ æƒ³è¦çš„æ•ˆæœï¼Œå°±åƒè¿™æ ·ï¼š 12$scope.myColor= &#123; color:&apos;blue&apos; &#125; ;$scope.myColor=&#123;cursor: &apos;pointer&apos;,color:&apos;blue&apos;&#125;; ç¬¬å…« å¼‚æ­¥è¯·æ±‚ä¹‹$httpå¯¹è±¡ã€‚ AngularJS æä¾›äº†ä¸€ä¸ªç±»ä¼¼jqueryçš„$.ajaxçš„å¯¹è±¡ï¼Œç”¨äºå¼‚æ­¥è¯·æ±‚ã€‚ åœ¨AngularJSä¸­å¯¹å¼‚æ­¥æ“ä½œæ˜¯æ¨å´‡è‡³æçš„ï¼Œæ‰€ä»¥$httpçš„æ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„ä¸åƒjquery.ajaxé‡Œè¿˜æä¾›äº†asyncå‚æ•°ã€‚ 1234567$http(&#123;method : &apos;POST&apos;,params : &#123; id:123&#125;, data:&#123;name:&apos;john&apos;,age:27&#125;, url : &quot;/mypath&quot;&#125;).success(function(response, status, headers, config)&#123;//do anything what you want;&#125;).error(function(response, status, headers, config)&#123;//do anything what you want;&#125;); å¦‚æœä½ æ˜¯POSTè¯·æ±‚ï¼Œparamsé‡Œçš„æ•°æ®ä¼šå¸®ä½ æ‹¼åˆ°urlåé¢ï¼Œdataé‡Œçš„æ•°æ®ä¼šæ”¾åˆ°è¯·æ±‚ä½“ä¸­ã€‚","tags":[{"name":"angular","slug":"angular","permalink":"http://liufusong.github.io/tags/angular/"}]},{"title":"æ­£åˆ™è¡¨è¾¾å¼","date":"2017-04-11T09:22:25.000Z","path":"2017/04/11/æ­£åˆ™è¡¨è¾¾å¼/","text":"æ‘˜è¦: æ­£åˆ™è¡¨è¾¾å¼çš„åŸºæœ¬ä½¿ç”¨ æœ¬æ–‡ç›®æ ‡ è®©ä½ æ˜ç™½æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä»€ä¹ˆï¼Œå¹¶å¯¹å®ƒæœ‰ä¸€äº›åŸºæœ¬çš„äº†è§£ï¼Œè®©ä½ å¯ä»¥åœ¨è‡ªå·±çš„ç¨‹åºæˆ–ç½‘é¡µé‡Œä½¿ç”¨å®ƒã€‚å¦‚ä½•ä½¿ç”¨æœ¬æ•™ç¨‹ åˆ«è¢«ä¸‹é¢é‚£äº›å¤æ‚çš„è¡¨è¾¾å¼å“å€’ï¼Œåªè¦è·Ÿç€æˆ‘ä¸€æ­¥ä¸€æ­¥æ¥ï¼Œä½ ä¼šå‘ç°æ­£åˆ™è¡¨è¾¾å¼å…¶å®å¹¶æ²¡æœ‰æƒ³åƒä¸­çš„é‚£ä¹ˆå›°éš¾ã€‚å½“ç„¶ï¼Œå¦‚æœä½ çœ‹å®Œäº†è¿™ç¯‡æ•™ç¨‹ä¹‹åï¼Œå‘ç°è‡ªå·±æ˜ç™½äº†å¾ˆå¤šï¼Œå´åˆå‡ ä¹ä»€ä¹ˆéƒ½è®°ä¸å¾—ï¼Œé‚£ä¹Ÿæ˜¯å¾ˆæ­£å¸¸çš„â€”â€”æˆ‘è®¤ä¸ºï¼Œæ²¡æ¥è§¦è¿‡æ­£åˆ™è¡¨è¾¾å¼çš„äººåœ¨çœ‹å®Œè¿™ç¯‡æ•™ç¨‹åï¼Œèƒ½æŠŠæåˆ°è¿‡çš„è¯­æ³•è®°ä½80%ä»¥ä¸Šçš„å¯èƒ½æ€§ä¸ºé›¶ã€‚è¿™é‡Œåªæ˜¯è®©ä½ æ˜ç™½åŸºæœ¬çš„åŸç†ï¼Œä»¥åä½ è¿˜éœ€è¦å¤šç»ƒä¹ ï¼Œå¤šä½¿ç”¨ï¼Œæ‰èƒ½ç†Ÿç»ƒæŒæ¡æ­£åˆ™è¡¨è¾¾å¼ã€‚é™¤äº†ä½œä¸ºå…¥é—¨æ•™ç¨‹ä¹‹å¤–ï¼Œæœ¬æ–‡è¿˜è¯•å›¾æˆä¸ºå¯ä»¥åœ¨æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•å‚è€ƒæ‰‹å†Œã€‚å°±ä½œè€…æœ¬äººçš„ç»å†æ¥è¯´ï¼Œè¿™ä¸ªç›®æ ‡è¿˜æ˜¯å®Œæˆå¾—ä¸é”™çš„â€”â€”ä½ çœ‹ï¼Œæˆ‘è‡ªå·±ä¹Ÿæ²¡èƒ½æŠŠæ‰€æœ‰çš„ä¸œè¥¿è®°ä¸‹æ¥ï¼Œä¸æ˜¯å—ï¼Ÿæ­£åˆ™è¡¨è¾¾å¼åˆ°åº•æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿ åœ¨ç¼–å†™å¤„ç†å­—ç¬¦ä¸²çš„ç¨‹åºæˆ–ç½‘é¡µæ—¶ï¼Œç»å¸¸ä¼šæœ‰æŸ¥æ‰¾ç¬¦åˆæŸäº›å¤æ‚è§„åˆ™çš„å­—ç¬¦ä¸²çš„éœ€è¦ã€‚æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯ç”¨äºæè¿°è¿™äº›è§„åˆ™çš„å·¥å…·ã€‚æ¢å¥è¯è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯è®°å½•æ–‡æœ¬è§„åˆ™çš„ä»£ç ã€‚å¾ˆå¯èƒ½ä½ ä½¿ç”¨è¿‡Windows/Dosä¸‹ç”¨äºæ–‡ä»¶æŸ¥æ‰¾çš„é€šé…ç¬¦(wildcard)ï¼Œä¹Ÿå°±æ˜¯å’Œ?ã€‚å¦‚æœä½ æƒ³æŸ¥æ‰¾æŸä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰çš„Wordæ–‡æ¡£çš„è¯ï¼Œä½ ä¼šæœç´¢.docã€‚åœ¨è¿™é‡Œï¼Œ*ä¼šè¢«è§£é‡Šæˆä»»æ„çš„å­—ç¬¦ä¸²ã€‚å’Œé€šé…ç¬¦ç±»ä¼¼ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯ç”¨æ¥è¿›è¡Œæ–‡æœ¬åŒ¹é…çš„å·¥å…·ï¼Œåªä¸è¿‡æ¯”èµ·é€šé…ç¬¦ï¼Œå®ƒèƒ½æ›´ç²¾ç¡®åœ°æè¿°ä½ çš„éœ€æ±‚â€”â€”å½“ç„¶ï¼Œä»£ä»·å°±æ˜¯æ›´å¤æ‚â€”â€”æ¯”å¦‚ä½ å¯ä»¥ç¼–å†™ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨æ¥æŸ¥æ‰¾æ‰€æœ‰ä»¥0å¼€å¤´ï¼Œåé¢è·Ÿç€2-3ä¸ªæ•°å­—ï¼Œç„¶åæ˜¯ä¸€ä¸ªè¿å­—å·â€œ-â€ï¼Œæœ€åæ˜¯7æˆ–8ä½æ•°å­—çš„å­—ç¬¦ä¸²(åƒ010-12345678æˆ–0376-7654321)ã€‚å…¥é—¨ å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼çš„æœ€å¥½æ–¹æ³•æ˜¯ä»ä¾‹å­å¼€å§‹ï¼Œç†è§£ä¾‹å­ä¹‹åå†è‡ªå·±å¯¹ä¾‹å­è¿›è¡Œä¿®æ”¹ï¼Œå®éªŒã€‚ä¸‹é¢ç»™å‡ºäº†ä¸å°‘ç®€å•çš„ä¾‹å­ï¼Œå¹¶å¯¹å®ƒä»¬ä½œäº†è¯¦ç»†çš„è¯´æ˜ã€‚ å‡è®¾ä½ åœ¨ä¸€ç¯‡è‹±æ–‡å°è¯´é‡ŒæŸ¥æ‰¾hiï¼Œä½ å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼hiã€‚ è¿™å‡ ä¹æ˜¯æœ€ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼äº†ï¼Œå®ƒå¯ä»¥ç²¾ç¡®åŒ¹é…è¿™æ ·çš„å­—ç¬¦ä¸²ï¼šç”±ä¸¤ä¸ªå­—ç¬¦ç»„æˆï¼Œå‰ä¸€ä¸ªå­—ç¬¦æ˜¯h,åä¸€ä¸ªæ˜¯iã€‚é€šå¸¸ï¼Œå¤„ç†æ­£åˆ™è¡¨è¾¾å¼çš„å·¥å…·ä¼šæä¾›ä¸€ä¸ªå¿½ç•¥å¤§å°å†™çš„é€‰é¡¹ï¼Œå¦‚æœé€‰ä¸­äº†è¿™ä¸ªé€‰é¡¹ï¼Œå®ƒå¯ä»¥åŒ¹é…hi,HI,Hi,hIè¿™å››ç§æƒ…å†µä¸­çš„ä»»æ„ä¸€ç§ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œå¾ˆå¤šå•è¯é‡ŒåŒ…å«hiè¿™ä¸¤ä¸ªè¿ç»­çš„å­—ç¬¦ï¼Œæ¯”å¦‚him,history,highç­‰ç­‰ã€‚ç”¨hiæ¥æŸ¥æ‰¾çš„è¯ï¼Œè¿™é‡Œè¾¹çš„hiä¹Ÿä¼šè¢«æ‰¾å‡ºæ¥ã€‚å¦‚æœè¦ç²¾ç¡®åœ°æŸ¥æ‰¾hiè¿™ä¸ªå•è¯çš„è¯ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨\\bhi\\bã€‚ \\bæ˜¯æ­£åˆ™è¡¨è¾¾å¼è§„å®šçš„ä¸€ä¸ªç‰¹æ®Šä»£ç ï¼ˆå¥½å§ï¼ŒæŸäº›äººå«å®ƒå…ƒå­—ç¬¦ï¼Œmetacharacterï¼‰ï¼Œä»£è¡¨ç€å•è¯çš„å¼€å¤´æˆ–ç»“å°¾ï¼Œä¹Ÿå°±æ˜¯å•è¯çš„åˆ†ç•Œå¤„ã€‚è™½ç„¶é€šå¸¸è‹±æ–‡çš„å•è¯æ˜¯ç”±ç©ºæ ¼ï¼Œæ ‡ç‚¹ç¬¦å·æˆ–è€…æ¢è¡Œæ¥åˆ†éš”çš„ï¼Œä½†æ˜¯\\bå¹¶ä¸åŒ¹é…è¿™äº›å•è¯åˆ†éš”å­—ç¬¦ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œå®ƒåªåŒ¹é…ä¸€ä¸ªä½ç½®ã€‚ å‡å¦‚ä½ è¦æ‰¾çš„æ˜¯hiåé¢ä¸è¿œå¤„è·Ÿç€ä¸€ä¸ªLucyï¼Œä½ åº”è¯¥ç”¨\\bhi\\b.*\\bLucy\\bã€‚ è¿™é‡Œï¼Œ.æ˜¯å¦ä¸€ä¸ªå…ƒå­—ç¬¦ï¼ŒåŒ¹é…é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦ã€‚åŒæ ·æ˜¯å…ƒå­—ç¬¦ï¼Œä¸è¿‡å®ƒä»£è¡¨çš„ä¸æ˜¯å­—ç¬¦ï¼Œä¹Ÿä¸æ˜¯ä½ç½®ï¼Œè€Œæ˜¯æ•°é‡â€”â€”å®ƒæŒ‡å®šå‰è¾¹çš„å†…å®¹å¯ä»¥è¿ç»­é‡å¤ä½¿ç”¨ä»»æ„æ¬¡ä»¥ä½¿æ•´ä¸ªè¡¨è¾¾å¼å¾—åˆ°åŒ¹é…ã€‚å› æ­¤ï¼Œ.è¿åœ¨ä¸€èµ·å°±æ„å‘³ç€ä»»æ„æ•°é‡çš„ä¸åŒ…å«æ¢è¡Œçš„å­—ç¬¦ã€‚ç°åœ¨\\bhi\\b.\\bLucy\\bçš„æ„æ€å°±å¾ˆæ˜æ˜¾äº†ï¼šå…ˆæ˜¯ä¸€ä¸ªå•è¯hi,ç„¶åæ˜¯ä»»æ„ä¸ªä»»æ„å­—ç¬¦(ä½†ä¸èƒ½æ˜¯æ¢è¡Œ)ï¼Œæœ€åæ˜¯Lucyè¿™ä¸ªå•è¯ã€‚ 0\\d\\d-\\d\\d\\d\\d\\d\\d\\d\\dåŒ¹é…è¿™æ ·çš„å­—ç¬¦ä¸²ï¼šä»¥0å¼€å¤´ï¼Œç„¶åæ˜¯ä¸¤ä¸ªæ•°å­—ï¼Œç„¶åæ˜¯ä¸€ä¸ªè¿å­—å·â€œ-â€ï¼Œæœ€åæ˜¯8ä¸ªæ•°å­—(ä¹Ÿå°±æ˜¯ä¸­å›½çš„ç”µè¯å·ç ã€‚å½“ç„¶ï¼Œè¿™ä¸ªä¾‹å­åªèƒ½åŒ¹é…åŒºå·ä¸º3ä½çš„æƒ…å½¢)ã€‚ è¿™é‡Œçš„\\dæ˜¯ä¸ªæ–°çš„å…ƒå­—ç¬¦ï¼ŒåŒ¹é…ä¸€ä½æ•°å­—(0ï¼Œæˆ–1ï¼Œæˆ–2ï¼Œæˆ–â€¦â€¦)ã€‚-ä¸æ˜¯å…ƒå­—ç¬¦ï¼ŒåªåŒ¹é…å®ƒæœ¬èº«â€”â€”è¿å­—ç¬¦(æˆ–è€…å‡å·ï¼Œæˆ–è€…ä¸­æ¨ªçº¿ï¼Œæˆ–è€…éšä½ æ€ä¹ˆç§°å‘¼å®ƒ)ã€‚ ä¸ºäº†é¿å…é‚£ä¹ˆå¤šçƒ¦äººçš„é‡å¤ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·å†™è¿™ä¸ªè¡¨è¾¾å¼ï¼š0\\d{2}-\\d{8}ã€‚è¿™é‡Œ\\dåé¢çš„{2}({8})çš„æ„æ€æ˜¯å‰é¢\\då¿…é¡»è¿ç»­é‡å¤åŒ¹é…2æ¬¡(8æ¬¡)ã€‚ å…ƒå­—ç¬¦ ç°åœ¨ä½ å·²ç»çŸ¥é“å‡ ä¸ªå¾ˆæœ‰ç”¨çš„å…ƒå­—ç¬¦äº†ï¼Œå¦‚\\b,.,*ï¼Œè¿˜æœ‰\\d.æ­£åˆ™è¡¨è¾¾å¼é‡Œè¿˜æœ‰æ›´å¤šçš„å…ƒå­—ç¬¦ï¼Œæ¯”å¦‚\\såŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦(Tab)ï¼Œæ¢è¡Œç¬¦ï¼Œä¸­æ–‡å…¨è§’ç©ºæ ¼ç­‰ã€‚\\wåŒ¹é…å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿æˆ–æ±‰å­—ç­‰ã€‚ ä¸‹é¢æ¥çœ‹çœ‹æ›´å¤šçš„ä¾‹å­ï¼š\\ba\\w\\båŒ¹é…ä»¥å­—æ¯aå¼€å¤´çš„å•è¯â€”â€”å…ˆæ˜¯æŸä¸ªå•è¯å¼€å§‹å¤„(\\b)ï¼Œç„¶åæ˜¯å­—æ¯a,ç„¶åæ˜¯ä»»æ„æ•°é‡çš„å­—æ¯æˆ–æ•°å­—(\\w)ï¼Œæœ€åæ˜¯å•è¯ç»“æŸå¤„(\\b)ã€‚ \\d+åŒ¹é…1ä¸ªæˆ–æ›´å¤šè¿ç»­çš„æ•°å­—ã€‚è¿™é‡Œçš„+æ˜¯å’Œç±»ä¼¼çš„å…ƒå­—ç¬¦ï¼Œä¸åŒçš„æ˜¯åŒ¹é…é‡å¤ä»»æ„æ¬¡(å¯èƒ½æ˜¯0æ¬¡)ï¼Œè€Œ+åˆ™åŒ¹é…é‡å¤1æ¬¡æˆ–æ›´å¤šæ¬¡ã€‚\\b\\w{6}\\b åŒ¹é…åˆšå¥½6ä¸ªå­—ç¬¦çš„å•è¯ã€‚è¡¨1.å¸¸ç”¨çš„å…ƒå­—ç¬¦ä»£ç  è¯´æ˜. åŒ¹é…é™¤æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦\\w åŒ¹é…å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿æˆ–æ±‰å­—\\s åŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦\\d åŒ¹é…æ•°å­—\\b åŒ¹é…å•è¯çš„å¼€å§‹æˆ–ç»“æŸ^ åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹$ åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸ å…ƒå­—ç¬¦^ï¼ˆå’Œæ•°å­—6åœ¨åŒä¸€ä¸ªé”®ä½ä¸Šçš„ç¬¦å·ï¼‰å’Œ$éƒ½åŒ¹é…ä¸€ä¸ªä½ç½®ï¼Œè¿™å’Œ\\bæœ‰ç‚¹ç±»ä¼¼ã€‚^åŒ¹é…ä½ è¦ç”¨æ¥æŸ¥æ‰¾çš„å­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œ$åŒ¹é…ç»“å°¾ã€‚è¿™ä¸¤ä¸ªä»£ç åœ¨éªŒè¯è¾“å…¥çš„å†…å®¹æ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚ä¸€ä¸ªç½‘ç«™å¦‚æœè¦æ±‚ä½ å¡«å†™çš„QQå·å¿…é¡»ä¸º5ä½åˆ°12ä½æ•°å­—æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ï¼š^\\d{5,12}$ã€‚è¿™é‡Œçš„{5,12}å’Œå‰é¢ä»‹ç»è¿‡çš„{2}æ˜¯ç±»ä¼¼çš„ï¼Œåªä¸è¿‡{2}åŒ¹é…åªèƒ½ä¸å¤šä¸å°‘é‡å¤2æ¬¡ï¼Œ{5,12}åˆ™æ˜¯é‡å¤çš„æ¬¡æ•°ä¸èƒ½å°‘äº5æ¬¡ï¼Œä¸èƒ½å¤šäº12æ¬¡ï¼Œå¦åˆ™éƒ½ä¸åŒ¹é…ã€‚å› ä¸ºä½¿ç”¨äº†^å’Œ$ï¼Œæ‰€ä»¥è¾“å…¥çš„æ•´ä¸ªå­—ç¬¦ä¸²éƒ½è¦ç”¨æ¥å’Œ\\d{5,12}æ¥åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´æ•´ä¸ªè¾“å…¥å¿…é¡»æ˜¯5åˆ°12ä¸ªæ•°å­—ï¼Œå› æ­¤å¦‚æœè¾“å…¥çš„QQå·èƒ½åŒ¹é…è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„è¯ï¼Œé‚£å°±ç¬¦åˆè¦æ±‚äº†ã€‚å’Œå¿½ç•¥å¤§å°å†™çš„é€‰é¡¹ç±»ä¼¼ï¼Œæœ‰äº›æ­£åˆ™è¡¨è¾¾å¼å¤„ç†å·¥å…·è¿˜æœ‰ä¸€ä¸ªå¤„ç†å¤šè¡Œçš„é€‰é¡¹ã€‚å¦‚æœé€‰ä¸­äº†è¿™ä¸ªé€‰é¡¹ï¼Œ^å’Œ$çš„æ„ä¹‰å°±å˜æˆäº†åŒ¹é…è¡Œçš„å¼€å§‹å¤„å’Œç»“æŸå¤„ã€‚ å­—ç¬¦è½¬ä¹‰ å¦‚æœä½ æƒ³æŸ¥æ‰¾å…ƒå­—ç¬¦æœ¬èº«çš„è¯ï¼Œæ¯”å¦‚ä½ æŸ¥æ‰¾.,æˆ–è€…,å°±å‡ºç°äº†é—®é¢˜ï¼šä½ æ²¡åŠæ³•æŒ‡å®šå®ƒä»¬ï¼Œå› ä¸ºå®ƒä»¬ä¼šè¢«è§£é‡Šæˆåˆ«çš„æ„æ€ã€‚è¿™æ—¶ä½ å°±å¾—ä½¿ç”¨\\æ¥å–æ¶ˆè¿™äº›å­—ç¬¦çš„ç‰¹æ®Šæ„ä¹‰ã€‚å› æ­¤ï¼Œä½ åº”è¯¥ä½¿ç”¨.å’Œ\\ã€‚å½“ç„¶ï¼Œè¦æŸ¥æ‰¾\\æœ¬èº«ï¼Œä½ ä¹Ÿå¾—ç”¨\\.ä¾‹å¦‚ï¼šdeerchao\\.netåŒ¹é…deerchao.netï¼ŒC:\\\\WindowsåŒ¹é…C:\\Windowsã€‚é‡å¤ ä½ å·²ç»çœ‹è¿‡äº†å‰é¢çš„,+,{2},{5,12}è¿™å‡ ä¸ªåŒ¹é…é‡å¤çš„æ–¹å¼äº†ã€‚ä¸‹é¢æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­æ‰€æœ‰çš„é™å®šç¬¦(æŒ‡å®šæ•°é‡çš„ä»£ç ï¼Œä¾‹å¦‚,{5,12}ç­‰)ï¼šè¡¨2.å¸¸ç”¨çš„é™å®šç¬¦ä»£ç /è¯­æ³• è¯´æ˜ é‡å¤é›¶æ¬¡æˆ–æ›´å¤šæ¬¡ é‡å¤ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡? é‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡{n} é‡å¤næ¬¡{n,} é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡{n,m} é‡å¤nåˆ°mæ¬¡ä¸‹é¢æ˜¯ä¸€äº›ä½¿ç”¨é‡å¤çš„ä¾‹å­ï¼šWindows\\d+åŒ¹é…Windowsåé¢è·Ÿ1ä¸ªæˆ–æ›´å¤šæ•°å­—^\\w+åŒ¹é…ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå•è¯(æˆ–æ•´ä¸ªå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå•è¯ï¼Œå…·ä½“åŒ¹é…å“ªä¸ªæ„æ€å¾—çœ‹é€‰é¡¹è®¾ç½®)å­—ç¬¦ç±» è¦æƒ³æŸ¥æ‰¾æ•°å­—ï¼Œå­—æ¯æˆ–æ•°å­—ï¼Œç©ºç™½æ˜¯å¾ˆç®€å•çš„ï¼Œå› ä¸ºå·²ç»æœ‰äº†å¯¹åº”è¿™äº›å­—ç¬¦é›†åˆçš„å…ƒå­—ç¬¦ï¼Œä½†æ˜¯å¦‚æœä½ æƒ³åŒ¹é…æ²¡æœ‰é¢„å®šä¹‰å…ƒå­—ç¬¦çš„å­—ç¬¦é›†åˆ(æ¯”å¦‚å…ƒéŸ³å­—æ¯a,e,i,o,u),åº”è¯¥æ€ä¹ˆåŠï¼Ÿå¾ˆç®€å•ï¼Œä½ åªéœ€è¦åœ¨æ–¹æ‹¬å·é‡Œåˆ—å‡ºå®ƒä»¬å°±è¡Œäº†ï¼Œåƒ[aeiou]å°±åŒ¹é…ä»»ä½•ä¸€ä¸ªè‹±æ–‡å…ƒéŸ³å­—æ¯ï¼Œ[.?!]åŒ¹é…æ ‡ç‚¹ç¬¦å·(.æˆ–?æˆ–!)ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥è½»æ¾åœ°æŒ‡å®šä¸€ä¸ªå­—ç¬¦èŒƒå›´ï¼Œåƒ[0-9]ä»£è¡¨çš„å«æ„ä¸\\då°±æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼šä¸€ä½æ•°å­—ï¼›åŒç†[a-z0-9A-Z_]ä¹Ÿå®Œå…¨ç­‰åŒäº\\wï¼ˆå¦‚æœåªè€ƒè™‘è‹±æ–‡çš„è¯ï¼‰ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´å¤æ‚çš„è¡¨è¾¾å¼ï¼š(?0\\d{2}[) -]?\\d{8}ã€‚ è¿™ä¸ªè¡¨è¾¾å¼å¯ä»¥åŒ¹é…å‡ ç§æ ¼å¼çš„ç”µè¯å·ç ï¼Œåƒ(010)88886666ï¼Œæˆ–022-22334455ï¼Œæˆ–02912345678ç­‰ã€‚æˆ‘ä»¬å¯¹å®ƒè¿›è¡Œä¸€äº›åˆ†æå§ï¼šé¦–å…ˆæ˜¯ä¸€ä¸ªè½¬ä¹‰å­—ç¬¦(,å®ƒèƒ½å‡ºç°0æ¬¡æˆ–1æ¬¡(?),ç„¶åæ˜¯ä¸€ä¸ª0ï¼Œåé¢è·Ÿç€2ä¸ªæ•°å­—(\\d{2})ï¼Œç„¶åæ˜¯)æˆ– - æˆ–ç©ºæ ¼ä¸­çš„ä¸€ä¸ªï¼Œå®ƒå‡ºç°1æ¬¡æˆ–ä¸å‡ºç°(?)ï¼Œæœ€åæ˜¯8ä¸ªæ•°å­—(\\d{8})ã€‚åˆ†ææ¡ä»¶ ä¸å¹¸çš„æ˜¯ï¼Œåˆšæ‰é‚£ä¸ªè¡¨è¾¾å¼ä¹Ÿèƒ½åŒ¹é…010)12345678æˆ–(022-87654321è¿™æ ·çš„â€œä¸æ­£ç¡®â€çš„æ ¼å¼ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°åˆ†ææ¡ä»¶ã€‚æ­£åˆ™è¡¨è¾¾å¼é‡Œçš„åˆ†ææ¡ä»¶æŒ‡çš„æ˜¯æœ‰å‡ ç§è§„åˆ™ï¼Œå¦‚æœæ»¡è¶³å…¶ä¸­ä»»æ„ä¸€ç§è§„åˆ™éƒ½åº”è¯¥å½“æˆåŒ¹é…ï¼Œå…·ä½“æ–¹æ³•æ˜¯ç”¨|æŠŠä¸åŒçš„è§„åˆ™åˆ†éš”å¼€ã€‚å¬ä¸æ˜ç™½ï¼Ÿæ²¡å…³ç³»ï¼Œçœ‹ä¾‹å­ï¼š0\\d{2}-\\d{8}|0\\d{3}-\\d{7}è¿™ä¸ªè¡¨è¾¾å¼èƒ½åŒ¹é…ä¸¤ç§ä»¥è¿å­—å·åˆ†éš”çš„ç”µè¯å·ç ï¼šä¸€ç§æ˜¯ä¸‰ä½åŒºå·ï¼Œ8ä½æœ¬åœ°å·(å¦‚010-12345678)ï¼Œä¸€ç§æ˜¯4ä½åŒºå·ï¼Œ7ä½æœ¬åœ°å·(0376-2233445)ã€‚(?0\\d{2})?[- ]?\\d{8}|0\\d{2}[- ]?\\d{8}è¿™ä¸ªè¡¨è¾¾å¼åŒ¹é…3ä½åŒºå·çš„ç”µè¯å·ç ï¼Œå…¶ä¸­åŒºå·å¯ä»¥ç”¨å°æ‹¬å·æ‹¬èµ·æ¥ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ï¼ŒåŒºå·ä¸æœ¬åœ°å·é—´å¯ä»¥ç”¨è¿å­—å·æˆ–ç©ºæ ¼é—´éš”ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰é—´éš”ã€‚ä½ å¯ä»¥è¯•è¯•ç”¨åˆ†ææ¡ä»¶æŠŠè¿™ä¸ªè¡¨è¾¾å¼æ‰©å±•æˆä¹Ÿæ”¯æŒ4ä½åŒºå·çš„ã€‚\\d{5}-\\d{4}|\\d{5}è¿™ä¸ªè¡¨è¾¾å¼ç”¨äºåŒ¹é…ç¾å›½çš„é‚®æ”¿ç¼–ç ã€‚ç¾å›½é‚®ç¼–çš„è§„åˆ™æ˜¯5ä½æ•°å­—ï¼Œæˆ–è€…ç”¨è¿å­—å·é—´éš”çš„9ä½æ•°å­—ã€‚ä¹‹æ‰€ä»¥è¦ç»™å‡ºè¿™ä¸ªä¾‹å­æ˜¯å› ä¸ºå®ƒèƒ½è¯´æ˜ä¸€ä¸ªé—®é¢˜ï¼šä½¿ç”¨åˆ†ææ¡ä»¶æ—¶ï¼Œè¦æ³¨æ„å„ä¸ªæ¡ä»¶çš„é¡ºåºã€‚å¦‚æœä½ æŠŠå®ƒæ”¹æˆ\\d{5}|\\d{5}-\\d{4}çš„è¯ï¼Œé‚£ä¹ˆå°±åªä¼šåŒ¹é…5ä½çš„é‚®ç¼–(ä»¥åŠ9ä½é‚®ç¼–çš„å‰5ä½)ã€‚åŸå› æ˜¯åŒ¹é…åˆ†ææ¡ä»¶æ—¶ï¼Œå°†ä¼šä»å·¦åˆ°å³åœ°æµ‹è¯•æ¯ä¸ªæ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³äº†æŸä¸ªåˆ†æçš„è¯ï¼Œå°±ä¸ä¼šå»å†ç®¡å…¶å®ƒçš„æ¡ä»¶äº†ã€‚åˆ†ç»„ æˆ‘ä»¬å·²ç»æåˆ°äº†æ€ä¹ˆé‡å¤å•ä¸ªå­—ç¬¦ï¼ˆç›´æ¥åœ¨å­—ç¬¦åé¢åŠ ä¸Šé™å®šç¬¦å°±è¡Œäº†ï¼‰ï¼›ä½†å¦‚æœæƒ³è¦é‡å¤å¤šä¸ªå­—ç¬¦åˆè¯¥æ€ä¹ˆåŠï¼Ÿä½ å¯ä»¥ç”¨å°æ‹¬å·æ¥æŒ‡å®šå­è¡¨è¾¾å¼(ä¹Ÿå«åšåˆ†ç»„)ï¼Œç„¶åä½ å°±å¯ä»¥æŒ‡å®šè¿™ä¸ªå­è¡¨è¾¾å¼çš„é‡å¤æ¬¡æ•°äº†ï¼Œä½ ä¹Ÿå¯ä»¥å¯¹å­è¡¨è¾¾å¼è¿›è¡Œå…¶å®ƒä¸€äº›æ“ä½œ(åé¢ä¼šæœ‰ä»‹ç»)ã€‚(\\d{1,3}.){3}\\d{1,3}æ˜¯ä¸€ä¸ªç®€å•çš„IPåœ°å€åŒ¹é…è¡¨è¾¾å¼ã€‚è¦ç†è§£è¿™ä¸ªè¡¨è¾¾å¼ï¼Œè¯·æŒ‰ä¸‹åˆ—é¡ºåºåˆ†æå®ƒï¼š\\d{1,3}åŒ¹é…1åˆ°3ä½çš„æ•°å­—ï¼Œ(\\d{1,3}.){3}åŒ¹é…ä¸‰ä½æ•°å­—åŠ ä¸Šä¸€ä¸ªè‹±æ–‡å¥å·(è¿™ä¸ªæ•´ä½“ä¹Ÿå°±æ˜¯è¿™ä¸ªåˆ†ç»„)é‡å¤3æ¬¡ï¼Œæœ€åå†åŠ ä¸Šä¸€ä¸ªä¸€åˆ°ä¸‰ä½çš„æ•°å­—(\\d{1,3})ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œå®ƒä¹Ÿå°†åŒ¹é…256.300.888.999è¿™ç§ä¸å¯èƒ½å­˜åœ¨çš„IPåœ°å€ã€‚å¦‚æœèƒ½ä½¿ç”¨ç®—æœ¯æ¯”è¾ƒçš„è¯ï¼Œæˆ–è®¸èƒ½ç®€å•åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­å¹¶ä¸æä¾›å…³äºæ•°å­¦çš„ä»»ä½•åŠŸèƒ½ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨å†—é•¿çš„åˆ†ç»„ï¼Œé€‰æ‹©ï¼Œå­—ç¬¦ç±»æ¥æè¿°ä¸€ä¸ªæ­£ç¡®çš„IPåœ°å€ï¼š((2[0-4]\\d|25[0-5]|[01]?\\d\\d?).){3}(2[0-4]\\d|25[0-5]|[01]?\\d\\d?)ã€‚ç†è§£è¿™ä¸ªè¡¨è¾¾å¼çš„å…³é”®æ˜¯ç†è§£2[0-4]\\d|25[0-5]|[01]?\\d\\d?ï¼Œè¿™é‡Œæˆ‘å°±ä¸ç»†è¯´äº†ï¼Œä½ è‡ªå·±åº”è¯¥èƒ½åˆ†æå¾—å‡ºæ¥å®ƒçš„æ„ä¹‰ã€‚åä¹‰ æœ‰æ—¶éœ€è¦æŸ¥æ‰¾ä¸å±äºæŸä¸ªèƒ½ç®€å•å®šä¹‰çš„å­—ç¬¦ç±»çš„å­—ç¬¦ã€‚æ¯”å¦‚æƒ³æŸ¥æ‰¾é™¤äº†æ•°å­—ä»¥å¤–ï¼Œå…¶å®ƒä»»æ„å­—ç¬¦éƒ½è¡Œçš„æƒ…å†µï¼Œè¿™æ—¶éœ€è¦ç”¨åˆ°åä¹‰ï¼šè¡¨3.å¸¸ç”¨çš„åä¹‰ä»£ç ä»£ç /è¯­æ³• è¯´æ˜\\W åŒ¹é…ä»»æ„ä¸æ˜¯å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œæ±‰å­—çš„å­—ç¬¦\\S åŒ¹é…ä»»æ„ä¸æ˜¯ç©ºç™½ç¬¦çš„å­—ç¬¦\\D åŒ¹é…ä»»æ„éæ•°å­—çš„å­—ç¬¦\\B åŒ¹é…ä¸æ˜¯å•è¯å¼€å¤´æˆ–ç»“æŸçš„ä½ç½®[^x] åŒ¹é…é™¤äº†xä»¥å¤–çš„ä»»æ„å­—ç¬¦[^aeiou] åŒ¹é…é™¤äº†aeiouè¿™å‡ ä¸ªå­—æ¯ä»¥å¤–çš„ä»»æ„å­—ç¬¦ä¾‹å­ï¼š\\S+åŒ¹é…ä¸åŒ…å«ç©ºç™½ç¬¦çš„å­—ç¬¦ä¸²ã€‚]+&gt;åŒ¹é…ç”¨å°–æ‹¬å·æ‹¬èµ·æ¥çš„ä»¥aå¼€å¤´çš„å­—ç¬¦ä¸²ã€‚##","tags":[{"name":"æ­£åˆ™","slug":"æ­£åˆ™","permalink":"http://liufusong.github.io/tags/æ­£åˆ™/"}]},{"title":"KonvaJSä¸­æ–‡æ–‡æ¡£","date":"2017-04-08T12:14:54.000Z","path":"2017/04/08/KonvaJSä¸­æ–‡æ–‡æ¡£/","text":"æ‘˜è¦: Konva æ˜¯ä¸€ä¸ª åŸºäº Canvas å¼€å‘çš„ 2d js æ¡†æ¶åº“, å®ƒå¯ä»¥è½»æ¾çš„å®ç°æ¡Œé¢åº”ç”¨å’Œç§»åŠ¨åº”ç”¨ä¸­çš„å›¾å½¢äº¤äº’äº¤äº’æ•ˆæœæ­£æ–‡: KonvaJS Konva æ˜¯ä¸€ä¸ª åŸºäº Canvas å¼€å‘çš„ 2d js æ¡†æ¶åº“, å®ƒå¯ä»¥è½»æ¾çš„å®ç°æ¡Œé¢åº”ç”¨å’Œç§»åŠ¨åº”ç”¨ä¸­çš„å›¾å½¢äº¤äº’äº¤äº’æ•ˆæœ. Konva å¯ä»¥é«˜æ•ˆçš„å®ç°åŠ¨ç”», å˜æ¢, èŠ‚ç‚¹åµŒå¥—, å±€éƒ¨æ“ä½œ, æ»¤é•œ, ç¼“å­˜, äº‹ä»¶ç­‰åŠŸèƒ½, ä¸ä»…ä»…é€‚ç”¨äºæ¡Œé¢ä¸ç§»åŠ¨å¼€å‘, è¿˜æœ‰æ›´ä¸ºå¹¿æ³›çš„åº”ç”¨. Konva å…è®¸åœ¨èˆå°ä¸Šç»˜å›¾, æ·»åŠ äº‹ä»¶ç›‘å¬, ç§»åŠ¨æˆ–ç¼©æ”¾æŸä¸ªå›¾å½¢, ç‹¬ç«‹æ—‹è½¬, ä»¥åŠé«˜æ•ˆçš„åŠ¨ç”». å³ä½¿åº”ç”¨ä¸­å«æœ‰æ•°åƒä¸ªå›¾å½¢ä¹Ÿæ˜¯å¯ä»¥è½»æ¾å®ç°çš„. 1.1. ä½¿ç”¨ Konva æ‰“å¼€é“¾æ¥ http://konvajs.github.io/, ä¸‹è½½ KonvaJS ä»£ç . å¼€å‘ä¸­ä¸ºäº†æ–¹ä¾¿è°ƒè¯•, ä½¿ç”¨å®Œå…¨ç‰ˆ. å®é™…ä½¿ç”¨ä½¿ç”¨å‹ç¼©ç‰ˆ. ä½¿ç”¨ script æ ‡ç­¾å¯¼å…¥éœ€è¦ä½¿ç”¨çš„ Konva åº“. &lt;script src=&quot;konva.js&quot;&gt;&lt;/script&gt; 1.2. KonvaJS çš„ç†å¿µ ä»»ä½•å›¾å½¢éƒ½å­˜åœ¨äºèˆå°ä¸­( Konva.Stage ). è¿™ä¸ªèˆå°ä¸­åˆå¯ä»¥åŒ…å¤šä¸ªç”¨æˆ·å±‚( Konva.Layer ). æ¯ä¸€ä¸ªå±‚ä¸­éƒ½å«æœ‰ä¸¤ä¸ª canvas ç€è‰²å™¨: ä¸€ä¸ªå‰å°æ¸²æŸ“å™¨, ä¸€ä¸ªåå°æ¸²æŸ“å™¨. å‰å°æ¸²æŸ“å™¨æ˜¯å¯ä»¥çœ‹è§çš„éƒ¨åˆ†,è€Œåå°æ¸²æŸ“å™¨æ˜¯ä¸€ä¸ªéšè—çš„ canvas. åå°æ¸²æŸ“å™¨ä¸ºäº†æé«˜æ•ˆç‡å®ç°äº‹ä»¶ç›‘å¬çš„å·¥ä½œ. æ¯ä¸€ä¸ªå±‚å¯ä»¥åŒ…å«å½¢çŠ¶( Shape ), å½¢çŠ¶çš„ç»„( Group ), ç”šè‡³æ˜¯ç”±ç»„ç»„æˆçš„ç»„. èˆå°, å±‚, ç»„, ä»¥åŠå½¢çŠ¶éƒ½æ˜¯è™šæ‹Ÿçš„èŠ‚ç‚¹( node ). ç±»ä¼¼äº HTML é¡µé¢ä¸­çš„ DOM èŠ‚ç‚¹. åœ¨è¿™ä¸ªå›¾å½¢ä¸­, é¦–å…ˆæœ‰ä¸€ä¸ªèˆå°( Stage ). è¯¥èˆå°åœ¨é¡µé¢ä¸­ä¸æ•´ä¸ªé¡µé¢çš„å¤§å°ä¸€æ ·. ç„¶åèˆå°ä¸­æœ‰ä¸€ä¸ªå±‚( Layer ). å±‚ä¸­æœ‰ä¸€ä¸ªçŸ©å½¢( Rect )å’Œä¸€ä¸ªåœ†å½¢( Circle ). å› æ­¤å°±æœ‰ä¸€ä¸ªæ ‘ç»“æ„:æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½å¯ä»¥è®¾ç½®æ ·å¼ä¸å˜åŒ–. å³ä½¿ Konva å¯ä»¥é‡æ–°æ¸²æŸ“å½¢çŠ¶, ä¾‹å¦‚: çŸ©å½¢, åœ†å½¢, å›¾ç‰‡, ç²¾çµ, æ–‡æœ¬, çº¿æ®µ, å¤šè¾¹å½¢, æ­£å¤šè¾¹å½¢, è·¯å¾„, å’Œæ˜Ÿæ˜Ÿç­‰. ä½†æ˜¯å¼€å‘è€…ä¾æ—§å¯ä»¥æ ¹æ® Shape ç±»çš„æ¨¡æ¿è‡ªå®šä¹‰è‡ªå·±çš„å›¾å½¢, ç„¶åé‡å†™ draw æ–¹æ³•.åªè¦æ‹¥æœ‰äº† èˆå°( Stage ), å¹¶ä¸”ä¸Šé¢æ”¾ç½®äº†å±‚( Layer )å’Œå›¾å½¢( Shape ), é‚£ä¹ˆå°±å¯ä»¥ä¸ºä»–æ·»åŠ äº‹ä»¶ç›‘å¬, å˜æ¢èŠ‚ç‚¹, è¿è¡ŒåŠ¨ç”», ä½¿ç”¨è·¯å¾„, ç”šè‡³æ˜¯æ›´å¤šçš„æ•ˆæœ.###ä¾‹å¦‚è¦å®ç°ä¸Šé¢çš„æ¡ˆä¾‹: éœ€è¦å¼•å…¥ Konva.js æ–‡ä»¶&lt;script src=&quot;konva.js&quot;&gt;&lt;/script&gt; ç„¶åé¡µé¢ä¸­æ”¾ç½®ä¸€ä¸ªå®¹å™¨ä½œä¸º Konva å¤„ç†çš„å¯¹è±¡. Konva ä¼šåœ¨è¯¥å®¹å™¨ä¸­æ·»åŠ  canvas æ ‡ç­¾. å€¼å¾—è¯´æ˜çš„æ˜¯, éœ€è¦ä¸ºè¿™ä¸ªæ ‡ç­¾æ·»åŠ  id å±æ€§.&lt;div id=&quot;dv&quot;&gt;&lt;/div&gt; ç„¶åç¼–å†™ js ä»£ç . Konva æ˜¯ä¸€ä¸ªå®Œå…¨é¢å‘å¯¹è±¡çš„åº“.åˆ›å»ºèˆå°var stage = new Konva.Stage({ container: &apos;dv&apos;, width: window.innerWidth, height: window.innerHeight }); é¦–å…ˆ, åœ¨ Konva ä¸­æ‰€æœ‰çš„å›¾å½¢éƒ½æ˜¯åœ¨ Konva ä¸­çš„ä¸€ä¸ªæ„é€ å‡½æ•°. Konva æ˜¯å…¨å±€çš„å‘½åç©ºé—´.åˆ›å»ºèˆå°ä½¿ç”¨çš„æ˜¯ Stage æ„é€ å‡½æ•°. è¯¥å‡½æ•°éœ€è¦æä¾›å‚æ•°.Konva ä¸­æ‰€æœ‰å›¾å½¢çš„å‚æ•°éƒ½æ˜¯ä½¿ç”¨ json å¯¹è±¡çš„æ–¹å¼è¿›è¡Œæä¾›.èˆå°éœ€è¦è®¾ç½®å®¹å™¨çš„ id, å³ container å±æ€§. ä»¥åŠå®½( width ), é«˜( height ).èˆå°ä¸­å¯ä»¥æ”¾ç½®ä¸€ä¸ªåˆ°å¤šä¸ªå±‚( Layer ), æ‰€æœ‰çš„å›¾å½¢åº”è¯¥æ”¾åœ¨åœ¨å±‚ä¸­.é¦–å…ˆåˆ›å»ºå±‚å¯¹è±¡. å±‚å¯¹è±¡ä¸éœ€è¦ä¼ é€’å‚æ•°.var layer = new Konva.Layer();å°†å±‚æ·»åŠ åˆ°èˆå°ä¸­. Konva ä¸­å‡¡æ˜¯æ·»åŠ , éƒ½æ˜¯ä½¿ç”¨ add æ–¹æ³•.stage.add( layer );åœ¨å±‚ä¸­æ”¾ç½®ä¸€ä¸ªçŸ©å½¢, å°±åˆ›å»ºä¸€ä¸ª çŸ©å½¢å¯¹è±¡.çŸ©å½¢å¯¹è±¡éœ€è¦å››ä¸ªå‚æ•°æ¥ç¡®å®š, åˆ†åˆ«æ˜¯ å·¦ä¸Šè§’çš„ä¸¤ä¸ªåæ ‡, å’Œ å®½ä¸é«˜.var rect = new Konva.Rect({x: 100,y: 50,width: 200,height: 100,fill: â€˜redâ€™});Konva ä¸­æ·»åŠ é¢œè‰²ä½¿ç”¨ fill å±æ€§å’Œ stroke å±æ€§, åˆ†åˆ«è¡¨ç¤ºå¡«å……é¢œè‰²ä¸æè¾¹é¢œè‰².å°†çŸ©å½¢æ·»åŠ åˆ° å±‚ä¸­layer.add( rect );åœ¨å±‚ä¸­æ·»åŠ ä¸€ä¸ªåœ†å½¢, ä½¿ç”¨æ„é€ å‡½æ•° Circlevar circle = new Konva.Circle({x: stage.getWidth() / 2,y: stage.getHeight() / 2,radius: 100,fill: â€˜pinkâ€™,stroke: â€˜blueâ€™});layer.add( circle );Konva ä¸­ä½¿ç”¨ radius è®¾ç½®åœ†å½¢çš„åŠå¾„.Konva ä¸­å¦‚æœéœ€è¦è·å–å¯¹è±¡çš„æ•°æ®, ä½¿ç”¨ getXXX æ–¹æ³•. ä¼ å…¥å‚æ•°å³è®¾ç½®, ä¸ä¼ å‚æ•°å°±æ˜¯è·å–æ•°æ®.æœ€åç»˜å›¾ä½¿ç”¨ draw æ–¹æ³•layer.draw();1.3. åŸºæœ¬å½¢çŠ¶ Konva.js æ”¯æŒçš„å½¢çŠ¶æœ‰: çŸ©å½¢( Rect ), åœ†å½¢( Circle ), æ¤­åœ†( Rllipse ), çº¿æ®µ( Line ), å›¾åƒ( Image ), æ–‡æœ¬( Text ), æ–‡æœ¬è·¯å¾„( TextPath ), æ˜Ÿæ˜Ÿ( Start ), æ ‡ç­¾( Label ), SVG è·¯å¾„( SVG Path ), æ­£å¤šè¾¹å½¢( RegularPolygon ). åŒæ—¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å½¢çŠ¶. è‡ªå®šä¹‰å½¢çŠ¶ä½¿ç”¨ Shape æ„é€ å‡½æ•°åˆ›å»ºéœ€è¦æä¾›è‡ªå®šä¹‰çš„ç»˜å›¾æ–¹æ³• sceneFuncvar triangle = new Konva.Shape({sceneFunc: function ( ctx ) {// è‡ªå®šä¹‰ç»˜å›¾è·¯å¾„ctx.moveTo( window.innerWidth / 2, window.innerHeight / 4 );ctx.lineTo( window.innerWidth / 2 - window.innerHeight / ( 2 1.732 ), window.innerHeight 3 / 4 );ctx.lineTo( window.innerWidth / 2 + window.innerHeight / ( 2 1.732 ), window.innerHeight 3 / 4 );ctx.closePath();// Konva.js çš„ç‹¬æœ‰æ–¹æ³•ctx.fillStrokeShape( this );},fill: â€˜pinkâ€™,stroke: â€˜redâ€™});å°†å›¾å½¢æ·»åŠ åç»˜å›¾layer.add( triangle );layer.draw(); 1.4. æ ·å¼ æ‰€æœ‰çš„å½¢çŠ¶éƒ½æ”¯æŒä¸‹åˆ—æ ·å¼å±æ€§: å¡«å……. é¢œè‰², æ¸å˜æˆ–å›¾ç‰‡.æè¾¹. é¢œè‰²ä¸å®½åº¦.é˜´å½±. é¢œè‰², åç§»é‡, é€æ˜åº¦ä¸æ¨¡ç³Šé€æ˜åº¦1.4.1. ç»˜åˆ¶æ­£äº”è¾¹å½¢ æ„é€ å‡½æ•°: Konva.RegularPolygon( options ) å¸¸ç”¨å±æ€§: x, y. è¡¨ç¤ºæ­£å¤šè¾¹å½¢çš„ä¸­å¿ƒåæ ‡.sides. è¡¨ç¤ºæ­£å¤šè¾¹å½¢çš„è¾¹æ•°.radius. è¡¨ç¤ºåŠå¾„.fill. å¡«å……é¢œè‰².stroke. æè¾¹çš„é¢œè‰².strokeWidth. æè¾¹çš„å®½åº¦.shadowOffsetX å’Œ shadowOffsety. æè¿°èƒŒæ™¯çš„åç§»é‡.shadowBlur. è¡¨ç¤ºæ¨¡ç³Šç¨‹åº¦.opacity. è¡¨ç¤ºé€æ˜åº¦( å–å€¼åœ¨ 0, 1 ä¹‹é—´ ).æ¡ˆä¾‹ var shape = new Konva.RegularPolygon({x: stage.getWidth() / 2,y: stage.getHeight() / 2,sides: 5,radius: 70,fill: â€˜redâ€™,stroke: â€˜blackâ€™,strokeWidth: 4,shadowOffsetX: 20,shadowOffsetY: 25,shadowBlurBlur: 40,opacity: 0.5});layer.add( shape ); 1.5. äº‹ä»¶ ä½¿ç”¨ Konva å¯ä»¥è½»æ¾çš„å®ç°ç›‘å¬ç”¨æˆ·æ·»åŠ çš„äº‹ä»¶. ä¾‹å¦‚ click, dblclick, mouseover, tap, dbltap, touchstart ç­‰. å±æ€§å€¼å˜åŒ–äº‹ä»¶. ä¾‹å¦‚ scaleXChange, fillChange ç­‰. ä»¥åŠæ‹–æ‹½äº‹ä»¶. ä¾‹å¦‚ dragstart, dragmove, dragend. ä»£ç  circle.on( â€˜mouseout touchendâ€™, function () {console.log( â€˜ç”¨æˆ·è¾“å…¥â€™ );});circle.on( â€˜xChangeâ€™, function () {console.log( â€˜ä½ç½®å‘ç”Ÿæ”¹å˜â€™ );});circle.on( â€˜dragendâ€™, function () {console.log( â€˜æ‹–åŠ¨åœæ­¢â€™ );});1.6. æ‹–æ‹½ä¸é™ä½ Konva æ”¯æŒæ‹–æ‹½çš„åŠŸèƒ½. ä¹Ÿæ”¯æŒä¸‹é™äº‹ä»¶( drop, dropenter, dropleave, dropover ). å¦‚æœéœ€è¦å®ç°æ‹–æ‹½çš„åŠŸèƒ½. å¯ä»¥è®¾ç½® draggable å±æ€§ä¸º true. åˆ›å»ºçš„æ—¶å€™è®¾ç½®å±æ€§åˆ›å»ºåä½¿ç”¨æ–¹æ³•è®¾ç½®å±æ€§shape.draggable( true );Konva è¿˜æ”¯æŒç»™æ‹–æ‹½äº‹ä»¶æ·»åŠ ç§»åŠ¨èŒƒå›´. 1.7. æ»¤é•œ( Filter ) Konva æ”¯æŒå¤šç§æ»¤é•œåŠŸèƒ½. ä¾‹å¦‚: æ¨¡ç³Š, ç¿»è½¬, å£°éŸ³ç­‰. 1.8. åŠ¨ç”» Konva ä¸­å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹å¼åˆ›å»ºåŠ¨ç”» ä½¿ç”¨ Konva.Animationvar anim = new Konva.Animation(function ( frame ) {var time = frame.time,timeDiff = frame.timeDiff,frameRate = frame.frameRate;// æ›´æ–°ä»£ç }, layer );ä½¿ç”¨ Konva.Tween var tween = new Konva.Tween({node: rect,duration: 1,x: 140,rotation: Math.PI * 2,opacity: 1,strokeWidth: 6}); // æˆ–è€…ä½¿ç”¨æ–°çš„çŸ­æ–¹æ³•circle.to({duration: 1,fill: â€˜greenâ€™});1.9. é€‰æ‹©å™¨ å½“æ„å»ºè§„æ¨¡è¾ƒå¤§çš„åº”ç”¨æ—¶, å¦‚æœå¯ä»¥å¯¹å…ƒç´ è¿›è¡Œæœç´¢æ˜¯éå¸¸æ–¹ä¾¿çš„. Konva ä½¿ç”¨é€‰æ‹©å™¨æ¥å®ç°å…ƒç´ çš„æŸ¥æ‰¾. ä½¿ç”¨ find() æ–¹æ³•è¿”å›ä¸€ä¸ªé›†åˆ. ä½¿ç”¨ findOne() æ–¹æ³•è¿”å›é›†åˆä¸­çš„ç¬¬ 0 ä¸ªå…ƒç´ . ç»™å…ƒç´ æä¾› name å±æ€§, å¯ä»¥ä½¿ç”¨ â€˜.nameâ€™ æ¥è¿›è¡Œè·å–. ç±»ä¼¼äºç±»é€‰æ‹©å™¨.ä½¿ç”¨æ„é€ å‡½æ•°çš„åå­—ä¹Ÿå¯ä»¥ä½œä¸ºåå­—é€‰æ‹©å™¨. ç±»ä¼¼äºæ ‡ç­¾é€‰æ‹©å™¨.ä½¿ç”¨ id å±æ€§, åˆ™ä½¿ç”¨ â€˜#idâ€™ æ¥è·å–.æŸ¥æ‰¾æ–¹æ³•ä½¿ç”¨å±‚å¯¹è±¡æ¥è°ƒç”¨.æ¡ˆä¾‹ â€¦var r = 100;var c1 = new Konva.Circle({x: stage.getWidth() / 8,y: stage.getHeight() / 2,radius: r,fill: â€˜redâ€™,stroke: â€˜#000â€™,id: â€˜c1â€™});layer.add( c1 ); var c2 = new Konva.Circle({x: stage.getWidth() / 8 * 3,y: stage.getHeight() / 2,radius: r,fill: â€˜redâ€™,stroke: â€˜#000â€™,name: â€˜câ€™});layer.add( c2 ); var c3 = new Konva.Circle({x: stage.getWidth() / 8 * 5,y: stage.getHeight() / 2,radius: r,fill: â€˜redâ€™,stroke: â€˜#000â€™,name: â€˜câ€™});layer.add( c3 ); var c3 = new Konva.Circle({x: stage.getWidth() / 8 * 7,y: stage.getHeight() / 2,radius: r,fill: â€˜redâ€™,stroke: â€˜#000â€™});layer.add( c3 ); layer.find( â€˜.câ€™ ).each(function ( v, i ) {v.fill( â€˜pinkâ€™ );}); layer.find( â€˜#c1â€™ ).forEach(function ( v, i ) {v.stroke( â€˜blueâ€™ );v.strokeWidth( 10 );}); layer.find( â€˜Circleâ€™ ).each( function ( v, i ) {v.stroke( â€˜greenâ€™ );});â€¦1.10. åºåˆ—å·ä¸ååºåˆ—åŒ– æ‰€æœ‰è¢«åˆ›å»ºçš„å¯¹è±¡éƒ½å¯ä»¥ä¿å­˜ä¸º JSON å¯¹è±¡. å¯ä»¥åœ¨æœåŠ¡å™¨æˆ–æœ¬åœ°å­˜å‚¨ä¸­ä½¿ç”¨å®ƒ. var json = stage.toJSON();åŒæ—¶, ä¹Ÿå¯ä»¥ä» JSON ä¸­æ¢å¤ Konva å¯¹è±¡. var json = â€˜{â€œattrsâ€:{â€œwidthâ€:578,â€heightâ€:200},â€™ +â€˜â€œclassNameâ€:â€Stageâ€, â€˜ +â€˜â€œchildrenâ€:[{ â€˜ +â€˜â€œattrsâ€:{},â€™ +â€˜â€œclassNameâ€:â€Layerâ€,â€™ +â€˜â€œchildrenâ€:[ â€˜ +â€˜{â€œattrsâ€:{ â€˜ +â€˜â€œxâ€:100,â€yâ€:100,â€™ +â€˜â€œsidesâ€:6,â€radiusâ€:70,â€™ +â€˜â€œfillâ€:â€redâ€,â€strokeâ€:â€blackâ€,â€™ +â€˜â€œstrokeWidthâ€:4},â€™ +â€˜â€œclassNameâ€:â€RegularPolygonâ€}â€™ +â€˜]â€™ +â€˜}]}â€™;var stage = Konva.Node.create(json, â€˜containerâ€™); å½¢çŠ¶ Shape2.1. çŸ©å½¢ Rect åˆ›å»ºè¯­æ³•: new Konva.Rect( config ) å¸¸ç”¨å±æ€§: cornerRadius å±æ€§. æ•°å­—ç±»å‹, è¡¨ç¤ºåœ†è§’çŸ©å½¢çš„åœ†è§’åŠå¾„.fill å±æ€§. å­—ç¬¦ä¸², è®¾ç½®å¡«å……é¢œè‰².stroke å±æ€§. å­—ç¬¦ä¸², è®¾ç½®æè¾¹é¢œè‰².dash å±æ€§. æ•°ç»„, ç”¨äºæè¿°è™šçº¿çš„é—´éš”.x, y, width, height å±æ€§. æ•°å­—, æè¿°çŸ©å½¢çš„ä½ç½®ä¸å®½é«˜.name, id å±æ€§. å­—ç¬¦ä¸², ç”¨äºè®¾ç½®æœç´¢æ ‡è®°.opacity å±æ€§. æ•°å­—, ç”¨äºè®¾ç½®é€æ˜åº¦.scaleX, scaleY å±æ€§. æ•°å­—, ç”¨äºè®¾ç½®ç¼©æ”¾å˜æ¢.rotation å±æ€§. æ•°å­—, ç”¨äºè®¾ç½®æ—‹è½¬è§’åº¦.draggable å±æ€§. å¸ƒå°”ç±»å‹, ç”¨äºè®¾ç½®æ˜¯å¦å…è®¸æ‹–æ‹½.lineJoin, lineCap å±æ€§. è®¾ç½®çº¿æ ·å¼.å¸¸ç”¨æ–¹æ³•: Konva ä¸­æ„é€ å‡½æ•°çš„å±æ€§å¤šåŠæœ‰åŒåçš„æ–¹æ³•.toJSON() æ–¹æ³•. å°†åŠ¨ç”»è½¬æ¢æˆ json å­—ç¬¦ä¸².to( params ) æ–¹æ³•. ä½¿ç”¨ Tween åŠ¨ç”».setAttrs( config ) ä¸ setAttr( attr, val ) æ–¹æ³•, ç”¨äºé‡æ–°è®¾ç½®å±æ€§.remove() æ–¹æ³•. å°†å½“å‰å¯¹è±¡åˆ é™¤, ä½†æ˜¯é”€æ¯.on( evtStr, handler ) ä¸ off( evtStr ) æ–¹æ³•, ç”¨äºæ·»åŠ ä¸ç§»é™¤äº‹ä»¶.æ¡ˆä¾‹ â€¦var rect = new Konva.Rect({x: 100, y: 100,width: 200, height: 100,stroke: â€˜redâ€™, fill: â€˜pinkâ€™});layer.add( rect );â€¦2.2. åœ† Circle åˆ›å»ºè¯­æ³•: new Konva.Circle( config ) å¸¸ç”¨å±æ€§: radius å±æ€§. æ•°å­—ç±»å‹, ç”¨äºè®¾ç½®åŠå¾„.fill, stroke å±æ€§.strokeWidth å±æ€§.lineJoin, lineCap å±æ€§.dash å±æ€§.x, y å±æ€§å¸¸ç”¨æ–¹æ³•: 2.3. æ¤­åœ† Ellipse åˆ›å»ºè¯­æ³•: new Konva.Ellipse( config ). å¸¸ç”¨å±æ€§: x, y å±æ€§. æ•°å­—ç±»å‹, è¡¨ç¤ºæ¤­åœ†ä¸­å¿ƒçš„åæ ‡radius å±æ€§. å¯¹è±¡ç±»å‹, x, y åˆ†åˆ«è¡¨ç¤ºæ¤­åœ†çš„é•¿è½´ä¸çŸ­è½´.æ¡ˆä¾‹ var ellipse = new Konva.Ellipse({x: stage.getWidth() / 2,y: stage.getHeight() / 2,radius: {x: 100, y: 100},stroke: â€˜redâ€™,fill: â€˜pinkâ€™,rotation: 30});æ•ˆæœ 2.4. æ¥”å½¢ Wedge åˆ›å»ºè¯­æ³•: new Konva.Wedge( config ) å¸¸ç”¨å±æ€§: angle å±æ€§. è¡¨ç¤ºæ¥”å½¢çš„è§’åº¦. è§’åº¦å¸¦æœ‰æ–¹å‘, æ°´å¹³å‘å³ä¸º 0 åº¦. ä½¿ç”¨è§’åº¦å•ä½.radius å±æ€§. è¡¨ç¤ºåŠå¾„.clockwise å±æ€§. è¡¨ç¤ºæ–¹å‘.x, y, lineJoin, lineCap, fill, stroke, â€¦å¸¸ç”¨æ–¹æ³•: æ¡ˆä¾‹ â€¦var data = [ .3, .4, .2, .1 ];var colors = â€˜red, pink, green, blueâ€™.split( â€˜,â€™ );var startAngle = -90;data.forEach( function ( v, i ) {var wedge = new Konva.Wedge({x: stage.getWidth() / 2,y: stage.getHeight() / 2,radius: 100,angle: startAngle + 360 * v,rotation: startAngle,fill: colors[ i ],opacity: .8}); startAngle += 360 * v;layer.add( wedge );});â€¦æ•ˆæœ 2.5. çº¿æ®µ Line çº¿æ®µæœ‰æŠ˜ç°, æ›²çº¿ä¸é—­åˆçº¿è·¯çš„ç”¨æ³•. åˆ›å»ºè¯­æ³•: new Konva.Line( config ) å¸¸ç”¨å±æ€§: points å±æ€§. æ•°ç»„, ç”¨äºå­˜å‚¨æŠ˜çº¿çš„å„ä¸ªç‚¹çš„åæ ‡.tension å±æ€§. æ•°å­—ç±»å‹, ç”¨äºè¡¨ç¤ºæ›²çº¿è¿çº¿. é»˜è®¤ä¸º 0.closed å±æ€§. å¸ƒå°”å€¼, ç”¨äºè¡¨ç¤ºæ˜¯å¦é—­åˆè·¯å¾„.x, y å±æ€§. ç”¨äºè®¾ç½®ç»˜åˆ¶ç›´çº¿æ—¶çš„å‚è€ƒåæ ‡åŸç‚¹.å¸¸ç”¨æ–¹æ³•: è¯´æ˜: ä½¿ç”¨ Konva.Line æ„é€ å‡½æ•°åˆ›å»ºç›´çº¿.ä½¿ç”¨ Konva.Line æ„é€ å‡½æ•°ä¸ closed = true å±æ€§å¯ä»¥åˆ›å»ºå¤šè¾¹å½¢.ä½¿ç”¨ Konva.Line æ„é€ å‡½æ•°ä¸ tension å±æ€§å¯ä»¥åˆ›å»ºæ›²çº¿æ¿.ä½¿ç”¨ Konva.Line æ„é€ å‡½æ•°ä¸ tension å±æ€§, ä»¥åŠ closed = true å¯ä»¥åˆ›å»ºæ°”æ³¡.æ¡ˆä¾‹ var line = new Konva.Line({x: 100, y: 100,points: [ 10, 0, 100, 100, 200, 0 ],tension: 1,stroke: â€˜redâ€™});layer.add( line ); var rect = new Konva.Line({x: 300, y: 100,points: [ 0, 0, 100, 0, 100, 100, 0, 100 ],closed: true,stroke: â€˜redâ€™});layer.add( rect );æ•ˆæœ 2.6. å›¾ç‰‡ Image åˆ›å»ºè¯­æ³•: new Konva.Image( config ) å¸¸ç”¨å±æ€§: x, y, width, heightimage å±æ€§. ç”¨äºè®¾ç½®å›¾ç‰‡å¯¹è±¡.crop å±æ€§. å¯¹è±¡: { x, y, width, height }. è¡¨ç¤ºè£å‰ª.2.7. æ–‡æœ¬ Text åˆ›å»ºè¯­æ³•: new Konva.Text( config ) å¸¸ç”¨å±æ€§: fontFamily å±æ€§.fontSize å±æ€§.fontStyle å±æ€§.fontVariant å±æ€§text å±æ€§. ç”¨äºè®¾ç½®æ–‡æœ¬å†…å®¹.align å±æ€§. å¯é€‰å€¼: left, center, right.padding å±æ€§.lineHeight å±æ€§.x, y å±æ€§æ¡ˆä¾‹ // åˆ›å»ºæ–‡æœ¬var txt = new Konva.Text({x: 100, y: 100,align: â€˜leftâ€™,text: â€˜æµ‹è¯•æ–‡æœ¬â€™,fontSize: 30,padding: 10,width: 200,height: 200 });layer.add( txt ); var rect = new Konva.Rect({x: 100, y: 100,width: 200, height: 200,stroke: â€˜redâ€™});layer.add( rect );æ•ˆæœ 2.8. æ˜Ÿæ˜Ÿ Star åˆ›å»ºè¯­æ³•: new Konva.Star( config ) å¸¸ç”¨å±æ€§: x, ynumPoints å±æ€§. è¡¨ç¤º å‡ è§’æ˜Ÿ.innerRadius å±æ€§. è¡¨ç¤ºå†…åŠå¾„.outerRadius å±æ€§. è¡¨ç¤ºå¤–åŠå¾„.æ—‹è½¬çš„äº”è§’æ˜Ÿ var star = new Konva.Star({x: stage.getWidth() / 2,y: stage.getHeight() / 2,numPoints: 5,outerRadius: 100,innerRadius: 50,stroke: â€˜redâ€™,fill: â€˜lightgreenâ€™});layer.add( star ); var tween = new Konva.Tween({node: star,rotation: 360,duration: 2,onFinish: function () {this.reset();this.play();}});tween.play();æ•ˆæœ 2.9. åœ†ç¯ Ring åˆ›å»ºè¯­æ³•: new Konva.Ring( config ) å¸¸ç”¨å±æ€§: innerRadius, outerRadiusclockwiseæ¡ˆä¾‹ var ring = new Konva.Ring({x: width / 2,y: height / 2,innerRadius: 50,outerRadius: 100,fill: â€˜pinkâ€™,stroke: â€˜blueâ€™,});layer.add( ring );æ•ˆæœ 2.10. åœ†å¼§ Arc åˆ›å»ºè¯­æ³•: new Konva.Arc( config ) å¸¸ç”¨å±æ€§: innerRadius, outerRadiusangleæ¡ˆä¾‹ var arc = new Konva.Arc({x: width / 2,y: height / 2,innerRadius: 70,outerRadius: 100,stroke: â€˜greenâ€™,fill: â€˜pinkâ€™,angle: 60,rotation: -90});layer.add( arc );æ•ˆæœ 2.11. æ­£å¤šè¾¹å½¢ Regular Polygon åˆ›å»ºè¯­æ³•: new Konva.RegularPolygon( config ) å¸¸ç”¨å±æ€§: sides å±æ€§. è¡¨ç¤ºå¤šè¾¹å½¢çš„è¾¹æ•°.radius å±æ€§.æ¡ˆä¾‹ var shape = new Konva.RegularPolygon({x: width / 2, y: height / 2,sides: 6,radius: 100,fill: â€˜pinkâ€™,stroke: â€˜blueâ€™});layer.add( shape );æ•ˆæœ 2.12. ç®­å¤´ Arrow åˆ›å»ºè¯­æ³•: new Konva.Arrow( config ) å¸¸ç”¨å±æ€§: points å±æ€§tension å±æ€§pointerLength å±æ€§. è¡¨ç¤ºç®­å¤´çš„é•¿åº¦.pointerWidth å±æ€§. è¡¨ç¤ºç®­å¤´çš„å®½åº¦.æ¡ˆä¾‹ var rect1 = new Konva.Rect({x: width / 4 - 50,y: height / 4 - 25,stroke: â€˜#000â€™,width: 100,height: 50,fill: â€˜pinkâ€™,opacity: .5});layer.add( rect1 ); var txt1 = new Konva.Text({x: width / 4 - 50,y: height / 4 - 6,fontSize: 12,text: â€˜Object æ„é€ å‡½æ•°â€™,align: â€˜centerâ€™,width: 100,height: 50});layer.add( txt1 ); var rect2 = new Konva.Rect({x: width 3 / 4 - 50,y: height 3 / 4 - 25,stroke: â€˜#000â€™,width: 100,height: 50,fill: â€˜pinkâ€™,opacity: .5});layer.add( rect2 ); var txt2 = new Konva.Text({x: width 3 / 4 - 50,y: height 3 / 4 - 6,fontSize: 12,text: â€˜Object.prototypeâ€™,align: â€˜centerâ€™,width: 100,height: 50});layer.add( txt2 ); var arrow = new Konva.Arrow({points: [width / 4 + 50,height / 4, width / 2,height / 4, width / 2,height * 3 / 4, width 3 / 4 - 50 - 7,height 3 / 4],pointerLength: 15,pointerWidth: 6,fill: â€˜#cccâ€™,stroke: â€˜#cccâ€™,lineWidth: .7}); layer.add( arrow );æ•ˆæœ ç»„ Groupåˆ›å»ºè¯­æ³•: new Konva.Group( config ) å¸¸ç”¨å±æ€§: x, y, width, heightrotation, draggableæ¡ˆä¾‹ var group = new Konva.Group({x: 100, y: 100,width: 100,height: 100});layer.add( group );group.add( new Konva.Rect({x: 0, y: 0, width: 100, height: 100,fill: â€˜redâ€™, stroke: â€˜blueâ€™}) );æ³¨æ„: æ”¾åœ¨ group ä¸­çš„å½¢çŠ¶ä½¿ç”¨ group ä½œä¸ºå‚è€ƒåæ ‡. KonvaJS Konva æ˜¯ä¸€ä¸ª åŸºäº Canvas å¼€å‘çš„ 2d js æ¡†æ¶åº“, å®ƒå¯ä»¥è½»æ¾çš„å®ç°æ¡Œé¢åº”ç”¨å’Œç§»åŠ¨åº”ç”¨ä¸­çš„å›¾å½¢äº¤äº’äº¤äº’æ•ˆæœ. Konva å¯ä»¥é«˜æ•ˆçš„å®ç°åŠ¨ç”», å˜æ¢, èŠ‚ç‚¹åµŒå¥—, å±€éƒ¨æ“ä½œ, æ»¤é•œ, ç¼“å­˜, äº‹ä»¶ç­‰åŠŸèƒ½, ä¸ä»…ä»…é€‚ç”¨äºæ¡Œé¢ä¸ç§»åŠ¨å¼€å‘, è¿˜æœ‰æ›´ä¸ºå¹¿æ³›çš„åº”ç”¨. Konva å…è®¸åœ¨èˆå°ä¸Šç»˜å›¾, æ·»åŠ äº‹ä»¶ç›‘å¬, ç§»åŠ¨æˆ–ç¼©æ”¾æŸä¸ªå›¾å½¢, ç‹¬ç«‹æ—‹è½¬, ä»¥åŠé«˜æ•ˆçš„åŠ¨ç”». å³ä½¿åº”ç”¨ä¸­å«æœ‰æ•°åƒä¸ªå›¾å½¢ä¹Ÿæ˜¯å¯ä»¥è½»æ¾å®ç°çš„. 1.1. ä½¿ç”¨ Konva æ‰“å¼€é“¾æ¥ http://konvajs.github.io/, ä¸‹è½½ KonvaJS ä»£ç .å¼€å‘ä¸­ä¸ºäº†æ–¹ä¾¿è°ƒè¯•, ä½¿ç”¨å®Œå…¨ç‰ˆ. å®é™…ä½¿ç”¨ä½¿ç”¨å‹ç¼©ç‰ˆ.ä½¿ç”¨ script æ ‡ç­¾å¯¼å…¥éœ€è¦ä½¿ç”¨çš„ Konva åº“. 1.2. KonvaJS çš„ç†å¿µ ä»»ä½•å›¾å½¢éƒ½å­˜åœ¨äºèˆå°ä¸­( Konva.Stage ). è¿™ä¸ªèˆå°ä¸­åˆå¯ä»¥åŒ…å¤šä¸ªç”¨æˆ·å±‚( Konva.Layer ). æ¯ä¸€ä¸ªå±‚ä¸­éƒ½å«æœ‰ä¸¤ä¸ª ç€è‰²å™¨: ä¸€ä¸ªå‰å°æ¸²æŸ“å™¨, ä¸€ä¸ªåå°æ¸²æŸ“å™¨. å‰å°æ¸²æŸ“å™¨æ˜¯å¯ä»¥çœ‹è§çš„éƒ¨åˆ†, è€Œåå°æ¸²æŸ“å™¨æ˜¯ä¸€ä¸ªéšè—çš„ canvas. åå°æ¸²æŸ“å™¨ä¸ºäº†æé«˜æ•ˆç‡å®ç°äº‹ä»¶ç›‘å¬çš„å·¥ä½œ. æ¯ä¸€ä¸ªå±‚å¯ä»¥åŒ…å«å½¢çŠ¶( Shape ), å½¢çŠ¶çš„ç»„( Group ), ç”šè‡³æ˜¯ç”±ç»„ç»„æˆçš„ç»„. èˆå°, å±‚, ç»„, ä»¥åŠå½¢çŠ¶éƒ½æ˜¯è™šæ‹Ÿçš„èŠ‚ç‚¹( node ). ç±»ä¼¼äº HTML é¡µé¢ä¸­çš„ DOM èŠ‚ç‚¹. åœ¨è¿™ä¸ªå›¾å½¢ä¸­, é¦–å…ˆæœ‰ä¸€ä¸ªèˆå°( Stage ). è¯¥èˆå°åœ¨é¡µé¢ä¸­ä¸æ•´ä¸ªé¡µé¢çš„å¤§å°ä¸€æ ·. ç„¶åèˆå°ä¸­æœ‰ä¸€ä¸ªå±‚( Layer ). å±‚ä¸­æœ‰ä¸€ä¸ªçŸ©å½¢( Rect )å’Œä¸€ä¸ªåœ†å½¢( Circle ). å› æ­¤å°±æœ‰ä¸€ä¸ªæ ‘ç»“æ„: æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½å¯ä»¥è®¾ç½®æ ·å¼ä¸å˜åŒ–. å³ä½¿ Konva å¯ä»¥é‡æ–°æ¸²æŸ“å½¢çŠ¶, ä¾‹å¦‚: çŸ©å½¢, åœ†å½¢, å›¾ç‰‡, ç²¾çµ, æ–‡æœ¬, çº¿æ®µ, å¤šè¾¹å½¢, æ­£å¤šè¾¹å½¢, è·¯å¾„, å’Œæ˜Ÿæ˜Ÿç­‰. ä½†æ˜¯å¼€å‘è€…ä¾æ—§å¯ä»¥æ ¹æ® Shape ç±»çš„æ¨¡æ¿è‡ªå®šä¹‰è‡ªå·±çš„å›¾å½¢, ç„¶åé‡å†™ draw æ–¹æ³•. åªè¦æ‹¥æœ‰äº† èˆå°( Stage ), å¹¶ä¸”ä¸Šé¢æ”¾ç½®äº†å±‚( Layer )å’Œå›¾å½¢( Shape ), é‚£ä¹ˆå°±å¯ä»¥ä¸ºä»–æ·»åŠ äº‹ä»¶ç›‘å¬, å˜æ¢èŠ‚ç‚¹, è¿è¡ŒåŠ¨ç”», ä½¿ç”¨è·¯å¾„, ç”šè‡³æ˜¯æ›´å¤šçš„æ•ˆæœ. ä¾‹å¦‚è¦å®ç°ä¸Šé¢çš„æ¡ˆä¾‹: éœ€è¦å¼•å…¥ Konva.js æ–‡ä»¶ ç„¶åé¡µé¢ä¸­æ”¾ç½®ä¸€ä¸ªå®¹å™¨ä½œä¸º Konva å¤„ç†çš„å¯¹è±¡. Konva ä¼šåœ¨è¯¥å®¹å™¨ä¸­æ·»åŠ  canvas æ ‡ç­¾. å€¼å¾—è¯´æ˜çš„æ˜¯, éœ€è¦ä¸ºè¿™ä¸ªæ ‡ç­¾æ·»åŠ  id å±æ€§. ç„¶åç¼–å†™ js ä»£ç . Konva æ˜¯ä¸€ä¸ªå®Œå…¨é¢å‘å¯¹è±¡çš„åº“.åˆ›å»ºèˆå°var stage = new Konva.Stage({container: â€˜dvâ€™,width: window.innerWidth,height: window.innerHeight});é¦–å…ˆ, åœ¨ Konva ä¸­æ‰€æœ‰çš„å›¾å½¢éƒ½æ˜¯åœ¨ Konva ä¸­çš„ä¸€ä¸ªæ„é€ å‡½æ•°. Konva æ˜¯å…¨å±€çš„å‘½åç©ºé—´.åˆ›å»ºèˆå°ä½¿ç”¨çš„æ˜¯ Stage æ„é€ å‡½æ•°. è¯¥å‡½æ•°éœ€è¦æä¾›å‚æ•°.Konva ä¸­æ‰€æœ‰å›¾å½¢çš„å‚æ•°éƒ½æ˜¯ä½¿ç”¨ json å¯¹è±¡çš„æ–¹å¼è¿›è¡Œæä¾›.èˆå°éœ€è¦è®¾ç½®å®¹å™¨çš„ id, å³ container å±æ€§. ä»¥åŠå®½( width ), é«˜( height ).èˆå°ä¸­å¯ä»¥æ”¾ç½®ä¸€ä¸ªåˆ°å¤šä¸ªå±‚( Layer ), æ‰€æœ‰çš„å›¾å½¢åº”è¯¥æ”¾åœ¨åœ¨å±‚ä¸­.é¦–å…ˆåˆ›å»ºå±‚å¯¹è±¡. å±‚å¯¹è±¡ä¸éœ€è¦ä¼ é€’å‚æ•°.var layer = new Konva.Layer();å°†å±‚æ·»åŠ åˆ°èˆå°ä¸­. Konva ä¸­å‡¡æ˜¯æ·»åŠ , éƒ½æ˜¯ä½¿ç”¨ add æ–¹æ³•.stage.add( layer );åœ¨å±‚ä¸­æ”¾ç½®ä¸€ä¸ªçŸ©å½¢, å°±åˆ›å»ºä¸€ä¸ª çŸ©å½¢å¯¹è±¡.çŸ©å½¢å¯¹è±¡éœ€è¦å››ä¸ªå‚æ•°æ¥ç¡®å®š, åˆ†åˆ«æ˜¯ å·¦ä¸Šè§’çš„ä¸¤ä¸ªåæ ‡, å’Œ å®½ä¸é«˜.var rect = new Konva.Rect({x: 100,y: 50,width: 200,height: 100,fill: â€˜redâ€™});Konva ä¸­æ·»åŠ é¢œè‰²ä½¿ç”¨ fill å±æ€§å’Œ stroke å±æ€§, åˆ†åˆ«è¡¨ç¤ºå¡«å……é¢œè‰²ä¸æè¾¹é¢œè‰².å°†çŸ©å½¢æ·»åŠ åˆ° å±‚ä¸­layer.add( rect );åœ¨å±‚ä¸­æ·»åŠ ä¸€ä¸ªåœ†å½¢, ä½¿ç”¨æ„é€ å‡½æ•° Circlevar circle = new Konva.Circle({x: stage.getWidth() / 2,y: stage.getHeight() / 2,radius: 100,fill: â€˜pinkâ€™,stroke: â€˜blueâ€™});layer.add( circle );Konva ä¸­ä½¿ç”¨ radius è®¾ç½®åœ†å½¢çš„åŠå¾„.Konva ä¸­å¦‚æœéœ€è¦è·å–å¯¹è±¡çš„æ•°æ®, ä½¿ç”¨ getXXX æ–¹æ³•. ä¼ å…¥å‚æ•°å³è®¾ç½®, ä¸ä¼ å‚æ•°å°±æ˜¯è·å–æ•°æ®.æœ€åç»˜å›¾ä½¿ç”¨ draw æ–¹æ³•layer.draw();1.3. åŸºæœ¬å½¢çŠ¶ Konva.js æ”¯æŒçš„å½¢çŠ¶æœ‰: çŸ©å½¢( Rect ), åœ†å½¢( Circle ), æ¤­åœ†( Rllipse ), çº¿æ®µ( Line ), å›¾åƒ( Image ), æ–‡æœ¬( Text ), æ–‡æœ¬è·¯å¾„( TextPath ), æ˜Ÿæ˜Ÿ( Start ), æ ‡ç­¾( Label ), SVG è·¯å¾„( SVG Path ), æ­£å¤šè¾¹å½¢( RegularPolygon ). åŒæ—¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å½¢çŠ¶. è‡ªå®šä¹‰å½¢çŠ¶ä½¿ç”¨ Shape æ„é€ å‡½æ•°åˆ›å»ºéœ€è¦æä¾›è‡ªå®šä¹‰çš„ç»˜å›¾æ–¹æ³• sceneFuncvar triangle = new Konva.Shape({sceneFunc: function ( ctx ) {// è‡ªå®šä¹‰ç»˜å›¾è·¯å¾„ctx.moveTo( window.innerWidth / 2, window.innerHeight / 4 );ctx.lineTo( window.innerWidth / 2 - window.innerHeight / ( 2 1.732 ), window.innerHeight 3 / 4 );ctx.lineTo( window.innerWidth / 2 + window.innerHeight / ( 2 1.732 ), window.innerHeight 3 / 4 );ctx.closePath();// Konva.js çš„ç‹¬æœ‰æ–¹æ³•ctx.fillStrokeShape( this );},fill: â€˜pinkâ€™,stroke: â€˜redâ€™});å°†å›¾å½¢æ·»åŠ åç»˜å›¾layer.add( triangle );layer.draw(); 1.4. æ ·å¼ æ‰€æœ‰çš„å½¢çŠ¶éƒ½æ”¯æŒä¸‹åˆ—æ ·å¼å±æ€§: å¡«å……. é¢œè‰², æ¸å˜æˆ–å›¾ç‰‡.æè¾¹. é¢œè‰²ä¸å®½åº¦.é˜´å½±. é¢œè‰², åç§»é‡, é€æ˜åº¦ä¸æ¨¡ç³Šé€æ˜åº¦1.4.1. ç»˜åˆ¶æ­£äº”è¾¹å½¢ æ„é€ å‡½æ•°: Konva.RegularPolygon( options ) å¸¸ç”¨å±æ€§: x, y. è¡¨ç¤ºæ­£å¤šè¾¹å½¢çš„ä¸­å¿ƒåæ ‡.sides. è¡¨ç¤ºæ­£å¤šè¾¹å½¢çš„è¾¹æ•°.radius. è¡¨ç¤ºåŠå¾„.fill. å¡«å……é¢œè‰².stroke. æè¾¹çš„é¢œè‰².strokeWidth. æè¾¹çš„å®½åº¦.shadowOffsetX å’Œ shadowOffsety. æè¿°èƒŒæ™¯çš„åç§»é‡.shadowBlur. è¡¨ç¤ºæ¨¡ç³Šç¨‹åº¦.opacity. è¡¨ç¤ºé€æ˜åº¦( å–å€¼åœ¨ 0, 1 ä¹‹é—´ ).æ¡ˆä¾‹ var shape = new Konva.RegularPolygon({x: stage.getWidth() / 2,y: stage.getHeight() / 2,sides: 5,radius: 70,fill: â€˜redâ€™,stroke: â€˜blackâ€™,strokeWidth: 4,shadowOffsetX: 20,shadowOffsetY: 25,shadowBlurBlur: 40,opacity: 0.5});layer.add( shape ); 1.5. äº‹ä»¶ ä½¿ç”¨ Konva å¯ä»¥è½»æ¾çš„å®ç°ç›‘å¬ç”¨æˆ·æ·»åŠ çš„äº‹ä»¶. ä¾‹å¦‚ click, dblclick, mouseover, tap, dbltap, touchstart ç­‰. å±æ€§å€¼å˜åŒ–äº‹ä»¶. ä¾‹å¦‚ scaleXChange, fillChange ç­‰. ä»¥åŠæ‹–æ‹½äº‹ä»¶. ä¾‹å¦‚ dragstart, dragmove, dragend. ä»£ç  circle.on( â€˜mouseout touchendâ€™, function () {console.log( â€˜ç”¨æˆ·è¾“å…¥â€™ );});circle.on( â€˜xChangeâ€™, function () {console.log( â€˜ä½ç½®å‘ç”Ÿæ”¹å˜â€™ );});circle.on( â€˜dragendâ€™, function () {console.log( â€˜æ‹–åŠ¨åœæ­¢â€™ );});1.6. æ‹–æ‹½ä¸é™ä½ Konva æ”¯æŒæ‹–æ‹½çš„åŠŸèƒ½. ä¹Ÿæ”¯æŒä¸‹é™äº‹ä»¶( drop, dropenter, dropleave, dropover ). å¦‚æœéœ€è¦å®ç°æ‹–æ‹½çš„åŠŸèƒ½. å¯ä»¥è®¾ç½® draggable å±æ€§ä¸º true. åˆ›å»ºçš„æ—¶å€™è®¾ç½®å±æ€§åˆ›å»ºåä½¿ç”¨æ–¹æ³•è®¾ç½®å±æ€§shape.draggable( true );Konva è¿˜æ”¯æŒç»™æ‹–æ‹½äº‹ä»¶æ·»åŠ ç§»åŠ¨èŒƒå›´. 1.7. æ»¤é•œ( Filter ) Konva æ”¯æŒå¤šç§æ»¤é•œåŠŸèƒ½. ä¾‹å¦‚: æ¨¡ç³Š, ç¿»è½¬, å£°éŸ³ç­‰. 1.8. åŠ¨ç”» Konva ä¸­å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹å¼åˆ›å»ºåŠ¨ç”» ä½¿ç”¨ Konva.Animationvar anim = new Konva.Animation(function ( frame ) {var time = frame.time,timeDiff = frame.timeDiff,frameRate = frame.frameRate;// æ›´æ–°ä»£ç }, layer );ä½¿ç”¨ Konva.Tween var tween = new Konva.Tween({node: rect,duration: 1,x: 140,rotation: Math.PI * 2,opacity: 1,strokeWidth: 6}); // æˆ–è€…ä½¿ç”¨æ–°çš„çŸ­æ–¹æ³•circle.to({duration: 1,fill: â€˜greenâ€™});1.9. é€‰æ‹©å™¨ å½“æ„å»ºè§„æ¨¡è¾ƒå¤§çš„åº”ç”¨æ—¶, å¦‚æœå¯ä»¥å¯¹å…ƒç´ è¿›è¡Œæœç´¢æ˜¯éå¸¸æ–¹ä¾¿çš„. Konva ä½¿ç”¨é€‰æ‹©å™¨æ¥å®ç°å…ƒç´ çš„æŸ¥æ‰¾. ä½¿ç”¨ find() æ–¹æ³•è¿”å›ä¸€ä¸ªé›†åˆ. ä½¿ç”¨ findOne() æ–¹æ³•è¿”å›é›†åˆä¸­çš„ç¬¬ 0 ä¸ªå…ƒç´ . ç»™å…ƒç´ æä¾› name å±æ€§, å¯ä»¥ä½¿ç”¨ â€˜.nameâ€™ æ¥è¿›è¡Œè·å–. ç±»ä¼¼äºç±»é€‰æ‹©å™¨.ä½¿ç”¨æ„é€ å‡½æ•°çš„åå­—ä¹Ÿå¯ä»¥ä½œä¸ºåå­—é€‰æ‹©å™¨. ç±»ä¼¼äºæ ‡ç­¾é€‰æ‹©å™¨.ä½¿ç”¨ id å±æ€§, åˆ™ä½¿ç”¨ â€˜#idâ€™ æ¥è·å–.æŸ¥æ‰¾æ–¹æ³•ä½¿ç”¨å±‚å¯¹è±¡æ¥è°ƒç”¨.æ¡ˆä¾‹ â€¦var r = 100;var c1 = new Konva.Circle({x: stage.getWidth() / 8,y: stage.getHeight() / 2,radius: r,fill: â€˜redâ€™,stroke: â€˜#000â€™,id: â€˜c1â€™});layer.add( c1 ); var c2 = new Konva.Circle({x: stage.getWidth() / 8 * 3,y: stage.getHeight() / 2,radius: r,fill: â€˜redâ€™,stroke: â€˜#000â€™,name: â€˜câ€™});layer.add( c2 ); var c3 = new Konva.Circle({x: stage.getWidth() / 8 * 5,y: stage.getHeight() / 2,radius: r,fill: â€˜redâ€™,stroke: â€˜#000â€™,name: â€˜câ€™});layer.add( c3 ); var c3 = new Konva.Circle({x: stage.getWidth() / 8 * 7,y: stage.getHeight() / 2,radius: r,fill: â€˜redâ€™,stroke: â€˜#000â€™});layer.add( c3 ); layer.find( â€˜.câ€™ ).each(function ( v, i ) {v.fill( â€˜pinkâ€™ );}); layer.find( â€˜#c1â€™ ).forEach(function ( v, i ) {v.stroke( â€˜blueâ€™ );v.strokeWidth( 10 );}); layer.find( â€˜Circleâ€™ ).each( function ( v, i ) {v.stroke( â€˜greenâ€™ );});â€¦1.10. åºåˆ—å·ä¸ååºåˆ—åŒ– æ‰€æœ‰è¢«åˆ›å»ºçš„å¯¹è±¡éƒ½å¯ä»¥ä¿å­˜ä¸º JSON å¯¹è±¡. å¯ä»¥åœ¨æœåŠ¡å™¨æˆ–æœ¬åœ°å­˜å‚¨ä¸­ä½¿ç”¨å®ƒ. var json = stage.toJSON();åŒæ—¶, ä¹Ÿå¯ä»¥ä» JSON ä¸­æ¢å¤ Konva å¯¹è±¡. var json = â€˜{â€œattrsâ€:{â€œwidthâ€:578,â€heightâ€:200},â€™ +â€˜â€œclassNameâ€:â€Stageâ€, â€˜ +â€˜â€œchildrenâ€:[{ â€˜ +â€˜â€œattrsâ€:{},â€™ +â€˜â€œclassNameâ€:â€Layerâ€,â€™ +â€˜â€œchildrenâ€:[ â€˜ +â€˜{â€œattrsâ€:{ â€˜ +â€˜â€œxâ€:100,â€yâ€:100,â€™ +â€˜â€œsidesâ€:6,â€radiusâ€:70,â€™ +â€˜â€œfillâ€:â€redâ€,â€strokeâ€:â€blackâ€,â€™ +â€˜â€œstrokeWidthâ€:4},â€™ +â€˜â€œclassNameâ€:â€RegularPolygonâ€}â€™ +â€˜]â€™ +â€˜}]}â€™;var stage = Konva.Node.create(json, â€˜containerâ€™); å½¢çŠ¶ Shape2.1. çŸ©å½¢ Rect åˆ›å»ºè¯­æ³•: new Konva.Rect( config ) å¸¸ç”¨å±æ€§: cornerRadius å±æ€§. æ•°å­—ç±»å‹, è¡¨ç¤ºåœ†è§’çŸ©å½¢çš„åœ†è§’åŠå¾„.fill å±æ€§. å­—ç¬¦ä¸², è®¾ç½®å¡«å……é¢œè‰².stroke å±æ€§. å­—ç¬¦ä¸², è®¾ç½®æè¾¹é¢œè‰².dash å±æ€§. æ•°ç»„, ç”¨äºæè¿°è™šçº¿çš„é—´éš”.x, y, width, height å±æ€§. æ•°å­—, æè¿°çŸ©å½¢çš„ä½ç½®ä¸å®½é«˜.name, id å±æ€§. å­—ç¬¦ä¸², ç”¨äºè®¾ç½®æœç´¢æ ‡è®°.opacity å±æ€§. æ•°å­—, ç”¨äºè®¾ç½®é€æ˜åº¦.scaleX, scaleY å±æ€§. æ•°å­—, ç”¨äºè®¾ç½®ç¼©æ”¾å˜æ¢.rotation å±æ€§. æ•°å­—, ç”¨äºè®¾ç½®æ—‹è½¬è§’åº¦.draggable å±æ€§. å¸ƒå°”ç±»å‹, ç”¨äºè®¾ç½®æ˜¯å¦å…è®¸æ‹–æ‹½.lineJoin, lineCap å±æ€§. è®¾ç½®çº¿æ ·å¼.å¸¸ç”¨æ–¹æ³•: Konva ä¸­æ„é€ å‡½æ•°çš„å±æ€§å¤šåŠæœ‰åŒåçš„æ–¹æ³•.toJSON() æ–¹æ³•. å°†åŠ¨ç”»è½¬æ¢æˆ json å­—ç¬¦ä¸².to( params ) æ–¹æ³•. ä½¿ç”¨ Tween åŠ¨ç”».setAttrs( config ) ä¸ setAttr( attr, val ) æ–¹æ³•, ç”¨äºé‡æ–°è®¾ç½®å±æ€§.remove() æ–¹æ³•. å°†å½“å‰å¯¹è±¡åˆ é™¤, ä½†æ˜¯é”€æ¯.on( evtStr, handler ) ä¸ off( evtStr ) æ–¹æ³•, ç”¨äºæ·»åŠ ä¸ç§»é™¤äº‹ä»¶.æ¡ˆä¾‹ â€¦var rect = new Konva.Rect({x: 100, y: 100,width: 200, height: 100,stroke: â€˜redâ€™, fill: â€˜pinkâ€™});layer.add( rect );â€¦2.2. åœ† Circle åˆ›å»ºè¯­æ³•: new Konva.Circle( config ) å¸¸ç”¨å±æ€§: radius å±æ€§. æ•°å­—ç±»å‹, ç”¨äºè®¾ç½®åŠå¾„.fill, stroke å±æ€§.strokeWidth å±æ€§.lineJoin, lineCap å±æ€§.dash å±æ€§.x, y å±æ€§å¸¸ç”¨æ–¹æ³•: 2.3. æ¤­åœ† Ellipse åˆ›å»ºè¯­æ³•: new Konva.Ellipse( config ). å¸¸ç”¨å±æ€§: x, y å±æ€§. æ•°å­—ç±»å‹, è¡¨ç¤ºæ¤­åœ†ä¸­å¿ƒçš„åæ ‡radius å±æ€§. å¯¹è±¡ç±»å‹, x, y åˆ†åˆ«è¡¨ç¤ºæ¤­åœ†çš„é•¿è½´ä¸çŸ­è½´.æ¡ˆä¾‹ var ellipse = new Konva.Ellipse({x: stage.getWidth() / 2,y: stage.getHeight() / 2,radius: {x: 100, y: 100},stroke: â€˜redâ€™,fill: â€˜pinkâ€™,rotation: 30});æ•ˆæœ 2.4. æ¥”å½¢ Wedge åˆ›å»ºè¯­æ³•: new Konva.Wedge( config ) å¸¸ç”¨å±æ€§: angle å±æ€§. è¡¨ç¤ºæ¥”å½¢çš„è§’åº¦. è§’åº¦å¸¦æœ‰æ–¹å‘, æ°´å¹³å‘å³ä¸º 0 åº¦. ä½¿ç”¨è§’åº¦å•ä½.radius å±æ€§. è¡¨ç¤ºåŠå¾„.clockwise å±æ€§. è¡¨ç¤ºæ–¹å‘.x, y, lineJoin, lineCap, fill, stroke, â€¦å¸¸ç”¨æ–¹æ³•: æ¡ˆä¾‹ â€¦var data = [ .3, .4, .2, .1 ];var colors = â€˜red, pink, green, blueâ€™.split( â€˜,â€™ );var startAngle = -90;data.forEach( function ( v, i ) {var wedge = new Konva.Wedge({x: stage.getWidth() / 2,y: stage.getHeight() / 2,radius: 100,angle: startAngle + 360 * v,rotation: startAngle,fill: colors[ i ],opacity: .8}); startAngle += 360 * v;layer.add( wedge );});â€¦æ•ˆæœ 2.5. çº¿æ®µ Line çº¿æ®µæœ‰æŠ˜ç°, æ›²çº¿ä¸é—­åˆçº¿è·¯çš„ç”¨æ³•. åˆ›å»ºè¯­æ³•: new Konva.Line( config ) å¸¸ç”¨å±æ€§: points å±æ€§. æ•°ç»„, ç”¨äºå­˜å‚¨æŠ˜çº¿çš„å„ä¸ªç‚¹çš„åæ ‡.tension å±æ€§. æ•°å­—ç±»å‹, ç”¨äºè¡¨ç¤ºæ›²çº¿è¿çº¿. é»˜è®¤ä¸º 0.closed å±æ€§. å¸ƒå°”å€¼, ç”¨äºè¡¨ç¤ºæ˜¯å¦é—­åˆè·¯å¾„.x, y å±æ€§. ç”¨äºè®¾ç½®ç»˜åˆ¶ç›´çº¿æ—¶çš„å‚è€ƒåæ ‡åŸç‚¹.å¸¸ç”¨æ–¹æ³•: è¯´æ˜: ä½¿ç”¨ Konva.Line æ„é€ å‡½æ•°åˆ›å»ºç›´çº¿.ä½¿ç”¨ Konva.Line æ„é€ å‡½æ•°ä¸ closed = true å±æ€§å¯ä»¥åˆ›å»ºå¤šè¾¹å½¢.ä½¿ç”¨ Konva.Line æ„é€ å‡½æ•°ä¸ tension å±æ€§å¯ä»¥åˆ›å»ºæ›²çº¿æ¿.ä½¿ç”¨ Konva.Line æ„é€ å‡½æ•°ä¸ tension å±æ€§, ä»¥åŠ closed = true å¯ä»¥åˆ›å»ºæ°”æ³¡.æ¡ˆä¾‹ var line = new Konva.Line({x: 100, y: 100,points: [ 10, 0, 100, 100, 200, 0 ],tension: 1,stroke: â€˜redâ€™});layer.add( line ); var rect = new Konva.Line({x: 300, y: 100,points: [ 0, 0, 100, 0, 100, 100, 0, 100 ],closed: true,stroke: â€˜redâ€™});layer.add( rect );æ•ˆæœ 2.6. å›¾ç‰‡ Image åˆ›å»ºè¯­æ³•: new Konva.Image( config ) å¸¸ç”¨å±æ€§: x, y, width, heightimage å±æ€§. ç”¨äºè®¾ç½®å›¾ç‰‡å¯¹è±¡.crop å±æ€§. å¯¹è±¡: { x, y, width, height }. è¡¨ç¤ºè£å‰ª.2.7. æ–‡æœ¬ Text åˆ›å»ºè¯­æ³•: new Konva.Text( config ) å¸¸ç”¨å±æ€§: fontFamily å±æ€§.fontSize å±æ€§.fontStyle å±æ€§.fontVariant å±æ€§text å±æ€§. ç”¨äºè®¾ç½®æ–‡æœ¬å†…å®¹.align å±æ€§. å¯é€‰å€¼: left, center, right.padding å±æ€§.lineHeight å±æ€§.x, y å±æ€§æ¡ˆä¾‹ // åˆ›å»ºæ–‡æœ¬var txt = new Konva.Text({x: 100, y: 100,align: â€˜leftâ€™,text: â€˜æµ‹è¯•æ–‡æœ¬â€™,fontSize: 30,padding: 10,width: 200,height: 200 });layer.add( txt ); var rect = new Konva.Rect({x: 100, y: 100,width: 200, height: 200,stroke: â€˜redâ€™});layer.add( rect );æ•ˆæœ 2.8. æ˜Ÿæ˜Ÿ Star åˆ›å»ºè¯­æ³•: new Konva.Star( config ) å¸¸ç”¨å±æ€§: x, ynumPoints å±æ€§. è¡¨ç¤º å‡ è§’æ˜Ÿ.innerRadius å±æ€§. è¡¨ç¤ºå†…åŠå¾„.outerRadius å±æ€§. è¡¨ç¤ºå¤–åŠå¾„.æ—‹è½¬çš„äº”è§’æ˜Ÿ var star = new Konva.Star({x: stage.getWidth() / 2,y: stage.getHeight() / 2,numPoints: 5,outerRadius: 100,innerRadius: 50,stroke: â€˜redâ€™,fill: â€˜lightgreenâ€™});layer.add( star ); var tween = new Konva.Tween({node: star,rotation: 360,duration: 2,onFinish: function () {this.reset();this.play();}});tween.play();æ•ˆæœ 2.9. åœ†ç¯ Ring åˆ›å»ºè¯­æ³•: new Konva.Ring( config ) å¸¸ç”¨å±æ€§: innerRadius, outerRadiusclockwiseæ¡ˆä¾‹ var ring = new Konva.Ring({x: width / 2,y: height / 2,innerRadius: 50,outerRadius: 100,fill: â€˜pinkâ€™,stroke: â€˜blueâ€™,});layer.add( ring );æ•ˆæœ 2.10. åœ†å¼§ Arc åˆ›å»ºè¯­æ³•: new Konva.Arc( config ) å¸¸ç”¨å±æ€§: innerRadius, outerRadiusangleæ¡ˆä¾‹ var arc = new Konva.Arc({x: width / 2,y: height / 2,innerRadius: 70,outerRadius: 100,stroke: â€˜greenâ€™,fill: â€˜pinkâ€™,angle: 60,rotation: -90});layer.add( arc );æ•ˆæœ 2.11. æ­£å¤šè¾¹å½¢ Regular Polygon åˆ›å»ºè¯­æ³•: new Konva.RegularPolygon( config ) å¸¸ç”¨å±æ€§: sides å±æ€§. è¡¨ç¤ºå¤šè¾¹å½¢çš„è¾¹æ•°.radius å±æ€§.æ¡ˆä¾‹ var shape = new Konva.RegularPolygon({x: width / 2, y: height / 2,sides: 6,radius: 100,fill: â€˜pinkâ€™,stroke: â€˜blueâ€™});layer.add( shape );æ•ˆæœ 2.12. ç®­å¤´ Arrow åˆ›å»ºè¯­æ³•: new Konva.Arrow( config ) å¸¸ç”¨å±æ€§: points å±æ€§tension å±æ€§pointerLength å±æ€§. è¡¨ç¤ºç®­å¤´çš„é•¿åº¦.pointerWidth å±æ€§. è¡¨ç¤ºç®­å¤´çš„å®½åº¦.æ¡ˆä¾‹ var rect1 = new Konva.Rect({x: width / 4 - 50,y: height / 4 - 25,stroke: â€˜#000â€™,width: 100,height: 50,fill: â€˜pinkâ€™,opacity: .5});layer.add( rect1 ); var txt1 = new Konva.Text({x: width / 4 - 50,y: height / 4 - 6,fontSize: 12,text: â€˜Object æ„é€ å‡½æ•°â€™,align: â€˜centerâ€™,width: 100,height: 50});layer.add( txt1 ); var rect2 = new Konva.Rect({x: width 3 / 4 - 50,y: height 3 / 4 - 25,stroke: â€˜#000â€™,width: 100,height: 50,fill: â€˜pinkâ€™,opacity: .5});layer.add( rect2 ); var txt2 = new Konva.Text({x: width 3 / 4 - 50,y: height 3 / 4 - 6,fontSize: 12,text: â€˜Object.prototypeâ€™,align: â€˜centerâ€™,width: 100,height: 50});layer.add( txt2 ); var arrow = new Konva.Arrow({points: [width / 4 + 50,height / 4, width / 2,height / 4, width / 2,height * 3 / 4, width 3 / 4 - 50 - 7,height 3 / 4],pointerLength: 15,pointerWidth: 6,fill: â€˜#cccâ€™,stroke: â€˜#cccâ€™,lineWidth: .7}); layer.add( arrow );æ•ˆæœ ç»„ Groupåˆ›å»ºè¯­æ³•: new Konva.Group( config ) å¸¸ç”¨å±æ€§: x, y, width, heightrotation, draggableæ¡ˆä¾‹ var group = new Konva.Group({x: 100, y: 100,width: 100,height: 100});layer.add( group );group.add( new Konva.Rect({x: 0, y: 0, width: 100, height: 100,fill: â€˜redâ€™, stroke: â€˜blueâ€™}) );æ³¨æ„: æ”¾åœ¨ group ä¸­çš„å½¢çŠ¶ä½¿ç”¨ group ä½œä¸ºå‚è€ƒåæ ‡.","tags":[{"name":"KonvaJs","slug":"KonvaJs","permalink":"http://liufusong.github.io/tags/KonvaJs/"}]},{"title":"github","date":"2017-04-07T16:00:00.000Z","path":"2017/04/08/gitä¸Šä¼ github/","text":"æ‘˜è¦: github gitä½¿ç”¨sshæ–¹å¼ä¸Šä¼ ä»£ç ä¸github gitç”Ÿæˆå…¬é’¥å’Œç§é’¥ å‘½ä»¤:ssh-keygen -t rsaç”Ÿæˆçš„å…¬é’¥ä¸ç§é’¥æ–‡ä»¶ä¼šåœ¨å½“ç”¨æˆ·ç›®å½•çš„.sshç›®å½•ä¸‹. æŠŠä»£ç pushåˆ°æœåŠ¡å™¨æ—¶éœ€è¦å…ˆpullä¸€ä¸‹ åœ¨pullä¹‹åå¦‚æœè¿œç¨‹çš„ä»£ç ä¸æœ¬åœ°çš„ä»£ç æœ‰å†²çªï¼Œgitä¼šå…ˆè‡ªåŠ¨åˆå¹¶å†²çªï¼Œå¦‚æœä¸èƒ½è‡ªåŠ¨åˆå¹¶ï¼Œå°±å¿…éœ€æˆ‘ä»¬æ‰‹åŠ¨å»å¤„ç†å†²çªã€‚ ä»æœåŠ¡å™¨ä¸Špullä»£ç åˆ°æœ¬åœ° å¦‚æœæœ¬åœ°æ²¡æœ‰.gitç›®å½•ï¼Œéœ€è¦å…ˆåˆå§‹åŒ–ä¸€ä¸‹ã€‚ å‘½ä»¤:git pull [è¿œç¨‹æœåŠ¡å™¨åœ°å€] [è¿œç¨‹çš„åˆ†æ”¯] gh-pagesåˆ†æ”¯-æ­å»ºåšå®¢. éœ€è¦æŠŠè‡ªå·²åšå®¢çš„ç½‘é¡µä»£ç ä¸Šä¼ åˆ°githubä¸Šçš„gh-pagesåˆ†æ”¯ ç„¶åå°±ç›´æ¥è®¿é—®äº† è®¿é—®çš„urlå½¢å¼: [githubç”¨æˆ·å].github.io/[ä»“åº“çš„åå­—]/[å…·ä½“çš„é¡µé¢] sourceTree , tortoiseGitnpm å®˜ç½‘[https://www.npmjs.com] node package manager å‘½ä»¤: åˆå§‹åŒ–:npm init å®‰è£…æŒ‡å®šåŒ…:npm install jquery --save åˆ é™¤æŒ‡å®šåŒ…:npm remove jquery --save ä¸‹è½½å®‰è£…package.jsonä¸­dependencieså±æ€§å¯¹çš„æ–‡ä»¶:npm install --production browser-sync æ›´æ”¹ä»£ç ä¹‹åè‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ éœ€è¦ä½¿ç”¨npmè¿›è¡Œå…¨å±€å®‰è£…:npm install browser-sync -g,-gè¡¨ç¤ºå®‰è£…åˆ°å…¨å±€ ä½¿ç”¨:browser-sync start --server --files &quot;./index.html,app.css,./css/*.css,*.*&quot; â€“fileså‚æ•°æŒ‡å®šè¦ç›‘è§†çš„æ–‡ä»¶ï¼Œåé¢è·Ÿè¦ç›‘è§†çš„æ–‡ä»¶çš„æ–‡ä»¶è·¯å¾„ä»¥é€—å·åˆ†éš”ã€‚ gulp å®˜ç½‘ ä¸­æ–‡ç½‘ å‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·jså‹ç¼©,var x,xnameï¼Œæ··æ·†åˆå¹¶.csså‹ç¼©htmlå‹å‹ç¼© grunt ,webpackâ€¦ æ ¸å¿ƒå°±5ä¸ªæ–¹æ³• task,gulpä¸­æ˜¯ä¸€ä¸ªä¸ªä»»åŠ¡çš„å½¢å¼æ¥å®ç°åŠŸèƒ½ã€‚ task(â€˜ä»»åŠ¡åâ€™,function(){â€¦..}); src src(â€˜./*.jsâ€™) dest(â€˜./minjs/â€˜)// æŒ‡å®šå¤„ç†åçš„æ–‡ä»¶çš„è¾“å‡ºè·¯å¾„. watch(â€˜./*.jsâ€™,[â€˜ä»»åŠ¡å1â€™,â€™ä»»åŠ¡å2â€™]); run(â€˜ä»»åŠ¡åâ€™);//æ‰§è¡ŒæŒ‡å®šçš„ä»»åŠ¡. gulpçš„å®‰è£… ä½¿ç”¨npm è¿›è¡Œå®‰è£… npm install gulp-cli -g; gulp ä½¿ç”¨ä½¿ç”¨æ—¶è¿˜éœ€è¦åœ¨é¡¹ç›®ä¸­é€šè¿‡npméå…¨å±€å®‰è£…gulp npm install gulp --save-dev è¿˜éœ€è¦åœ¨å½“å‰é¡¹ç›®æ ¹ç›®å½•æ·»åŠ ä¸€ä¸ªgulpfile.jsæ–‡ä»¶æ¥å†™å…·ä½“çš„ä»»åŠ¡ä»£ç .gulpçš„ä¸€äº›æ’ä»¶ ä¹Ÿæ˜¯ä½¿ç”¨npmå®‰è£… å¯¹jsä»£ç è¿›è¡Œå‹ç¼© gulp-uglify å¯¹ä»£ç è¿›è¡Œåˆå¹¶ gulp-concat å¯¹cssè¿›è¡Œå‹ç¼© gulp-cssnano å¯¹htmlè¿›è¡Œå‹ç¼© gulp-htmlmin","tags":[{"name":"git","slug":"git","permalink":"http://liufusong.github.io/tags/git/"},{"name":"githug","slug":"githug","permalink":"http://liufusong.github.io/tags/githug/"}]},{"title":"gitå·¥å…·","date":"2017-04-07T16:00:00.000Z","path":"2017/04/08/gitä½¿ç”¨/","text":"æ‘˜è¦: Gitæ˜¯ä¸€æ¬¾æºä»£ç ç®¡ç†å·¥å…·(ç‰ˆæœ¬æ§åˆ¶å·¥å…·)æ­£æ–‡: Gitä»€ä¹ˆæ˜¯Git? Gitæ˜¯ä¸€æ¬¾æºä»£ç ç®¡ç†å·¥å…·(ç‰ˆæœ¬æ§åˆ¶å·¥å…·) æˆ‘ä»¬å†™çš„ä»£ç éœ€è¦ä½¿ç”¨Gitè¿›è¡Œç®¡ç†ã€‚1.0æ˜¯ç¨³å®š2.0åŠ äº†æ–°åŠŸèƒ½ æºä»£ç æœ‰å¿…è¦ç®¡ç†èµ·å—ï¼Ÿ æœ‰å¿…è¦ï¼Œå› ä¸ºäººå·¥çš„å»å¤„ç†ä¸åŒçš„ç‰ˆæœ¬ï¼Œåšç›¸åº”å¤‡ä»½ä¼šå¾ˆéº»çƒ¦ã€‚ svn,vss,vcs,tfsâ€¦..-Gitæ˜¯linuxä¹‹çˆ¶å½“å¹´ä¸ºäº†ç»´æŠ¤linuxâ€”linusä¹‹å‰ä¹Ÿæ˜¯æ‰‹åŠ¨ç»´æŠ¤åˆå¹¶æŠŠæ–‡ä»¶å‘ç»™Linus BitKeeper(æ”¶è´¹) æœ‰äººæƒ³ç ´è§£(ä¸ç»™æä¾›å…è´¹ä½¿ç”¨) linusè‡ªå·±å†™äº†ä¸€ä¸ªç‰ˆæœ¬ç®¡ç†çš„å·¥å…·ï¼ˆGitï¼‰ åˆ†å¸ƒå¼ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œé›†ä¸­å¼ gitå±äºåˆ†å¸ƒå¼ svné›†ä¸­å¼ gitå®‰è£…gitåˆå§‹åŒ–ä¸€ä¸ªä»“åº“ å…¶å®å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ª.gitéšè—ç›®å½• å‘½ä»¤:git init; æƒ³åœ¨å“ªä¸ªç›®å½•åˆ›å»º.gitç›®å½•ï¼Œå°±æ˜¯å“ªä¸ªç›®å½•æ‰“å¼€å·¥å…·ç„¶åå†™å‘½ä»¤. ä¸€èˆ¬æ˜¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œè¿™ä¸ªå‘½ä»¤. è‡ªæŠ¥å®¶é—¨ é…ç½®ç”¨æˆ·å : git config user.name &quot;testName&quot; é…ç½®é‚®ç®± : git config user.email &quot;test@sina.com&quot; æŸ¥çœ‹é…ç½®ä¿¡æ¯: git config --list æŠŠä»£ç æäº¤åˆ°ä»“åº“ä¸­ 1.å…ˆæŠŠä»£ç æ·»åŠ åˆ°æš‚å­˜åŒº(å°±ç›¸å½“äºæ”¾åˆ°ä»“åº“é—¨å£) å‘½ä»¤:git add æ–‡ä»¶è·¯å¾„ ç¤ºä¾‹:git add ./reademe.md å¯ä»¥ä½¿ç”¨git add .è¿™ä¸ªå‘½ä»¤ï¼Œæ‰¹é‡æŠŠå½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºã€‚ 2.æŠŠæš‚å­˜åŒºçš„æ–‡ä»¶æäº¤ä»“åº“é‡Œ å‘½ä»¤: git commit -m &quot;æ³¨é‡Š&quot; ç¤ºä¾‹: git commit -m &quot;æˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªæ–°çš„åŠŸèƒ½&quot; -m è¡¨ç¤ºæŒ‡å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½œä¸ºæäº¤çš„è¯´æ˜(ç›¸å½“äºæ³¨é‡Š); åˆå¹¶add ä¸commit å‘½ä»¤ git commit -a -m &quot;è¿™æ˜¯ä½¿ç”¨åˆå¹¶æ·»åŠ ä¸æäº¤çš„æ“ä½œ&quot;; è¿™é‡Œ-aå‚æ•°è¡¨æ˜æŠŠæ‰€æœ‰ä¿®æ”¹åçš„æ–‡ä»¶ä¸€èµ·æ·»åŠ åˆ°æš‚å­˜åŒº.(åªæ˜¯å¯¹ä¿®æ”¹åçš„æ–‡ä»¶æœ‰æ•ˆï¼Œå¯¹äºæ–°æ·»åŠ çš„æ–‡ä»¶æ²¡æœ‰ä½œç”¨) æŸ¥çœ‹å·¥ä½œåŒºçŠ¶æ€ å‘½ä»¤:git status æ·»åŠ å¿½ç•¥æ–‡ä»¶ åœ¨é¡¹ç›®ä¸­æœ‰ä¸€äº›æ–‡ä»¶æ˜¯ä¸éœ€è¦æäº¤çš„,æˆ‘ä»¬éœ€è¦æŠŠå®ƒå¿½ç•¥æ‰ éœ€è¦åœ¨.gitæ–‡ä»¶å¤¹æ‰€åœ¨ç›®å½•æ–°å»ºä¸€ä¸ªåä¸º.gitignoreçš„æ–‡ä»¶ç„¶ååœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å†™ä¸Šéœ€è¦è¢«å¿½ç•¥çš„æ–‡ä»¶çš„è·¯å¾„ã€‚ç¤ºä¾‹: /css/a.css: /css/*.css : /a.html æ¯”å¯¹æ–‡ä»¶å·®å¼‚ å‘½ä»¤: git diff ç”¨æ¥æ¯”è¾ƒå·¥ä½œåŒºå†…å®¹ä¸æœ€è¿‘ä¸€æ¬¡æäº¤çš„å†…å®¹çš„åŒºåˆ« å¦‚æœæš‚å­˜åŒºæ²¡æœ‰æ–‡ä»¶ï¼Œå°±ä¼šå°†å·¥ä½œä¸ä»£ç ä¸æœ€è¿‘ä¸€æ¬¡æäº¤å¯¹æ¯” å‘½ä»¤ï¼šgit diff --cached æ¯”è¾ƒæš‚å­˜åŒºçš„æ–‡ä»¶å’Œä»“åº“ä¸­æ–‡ä»¶çš„åŒºåˆ« å¯¹æ¯”ä¹‹å‰æŸä¸¤æ¬¡æäº¤çš„æ–‡ä»¶çš„å·®å¼‚ å‘½ä»¤:git diff [ç‰ˆæœ¬å·1] [ç‰ˆæœ¬å·2] [æƒ³æ¯”è¾ƒçš„æ–‡ä»¶è·¯å¾„] æŸ¥çœ‹æ—¥å¿— å‘½ä»¤:git log,å¯ä»¥æŸ¥çœ‹æ¯ä¸€æ¬¡æäº¤çš„æ—¥å¿— å‘½ä»¤:git log --oneline è¡¨ç¤ºä½¿ç”¨ç®€æ´çš„å½¢å¼è¾“å‡ºæäº¤æ—¥å¿— ç‰ˆæœ¬å›é€€ å‘½ä»¤:git reset --hard Head~1 è¿™æ˜¯å°†ä»£ç å›é€€åˆ°ä¸Šä¸Šä¸€æ¬¡æäº¤æ—¶çš„çŠ¶æ€ å‘½ä»¤:git reset --hard Head~2 å›é€€åˆ°ä¸Šä¸Šä¸Šæ¬¡ å‘½ä»¤:git reset --hard Head~0 å›é€€åˆ°ä¸Šæ¬¡æäº¤æ—¶çš„çŠ¶æ€,~0å¯ä»¥çœç•¥ å‘½ä»¤:git reset --hard ç‰ˆæœ¬å· é€šè¿‡æ¯æ¬¡æäº¤æ—¶ç”Ÿæˆçš„ç‰ˆæœ¬å·æ¥å›é€€ç‰ˆæœ¬ é€šè¿‡git reflogå‘½ä»¤å¯ä»¥æŸ¥çœ‹ä¹‹å‰æ‰€æœ‰ç‰ˆæœ¬åˆ‡æ¢çš„æ“ä½œè®°å½•ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå‘½ä»¤å¾—åˆ°çš„ç‰ˆæœ¬å·å›é€€åˆ°æŒ‡å®šçš„ç‰ˆæœ¬ã€‚ åˆ›å»ºåˆ†æ”¯ å‘½ä»¤:git branch [åˆ†æ”¯å] åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ å‘½ä»¤:git branch æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„åˆ†æ”¯ åˆ‡æ¢åˆ†æ”¯ å‘½ä»¤:git checkout [åˆ†æ”¯å] åˆ‡æ¢åˆ†æ”¯åå¯ä»¥åœ¨åˆ‡æ¢åçš„åˆ†æ”¯ä¸­è¿›è¡Œæ­£å¸¸çš„æ“ä½œ åˆå¹¶åˆ†æ”¯ å‘½ä»¤:git merge [åˆ†æ”¯å] gitä¼šå°†æŒ‡å®šçš„åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯. åˆ é™¤åˆ†æ”¯ å‘½ä»¤:git branch -d [åˆ†æ”¯å] åˆ é™¤æŒ‡å®šåˆ†æ”¯ï¼Œ-då‚æ•°è¡¨ç¤ºè¦æ‰§è¡Œåˆ é™¤æ“ä½œ gitæäº¤ä¸­çš„å†²çª å¦‚æœgitä¸èƒ½è‡ªåŠ¨åˆå¹¶åˆ†æ”¯ï¼Œå°±ä¼šæœ‰å†²çªï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è§£å†³å†²çªï¼Œç„¶åå†æ¬¡æäº¤ githubgithubä¸git git ç‰ˆæœ¬ç®¡ç†å·¥å…· github å°±æ˜¯ä¸€ä¸ªç½‘ç«™ï¼Œåªæ˜¯è¿™ä¸ªç½‘ç«™æä¾›gitæœåŠ¡å™¨çš„åŠŸèƒ½ ä¸Šä¼ ä»£ç åˆ°gitæœåŠ¡å™¨(push) å‘½ä»¤:git push [è¿œç¨‹æœåŠ¡å™¨åœ°å€] [è¿œç¨‹æœåŠ¡å™¨çš„åˆ†æ”¯] ç¤ºä¾‹:git push https://github.com/huoqishi/test002.git master ä¸Šä¼ æ—¶å¯ä»¥ä½¿ç”¨ä¸€äº›ç®€åŒ–çš„å‘½ä»¤ å°†è¿œç¨‹æœåŠ¡å™¨åœ°å€å†™æˆå˜é‡çš„å½¢å¼ git remote add [å˜é‡å] [è¿œç¨‹æœåŠ¡å™¨åœ°å€] ç¤ºä¾‹:git remote add origin https://github.com/huoqishi/test002.git è¿™æ ·ä¹‹åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨originæ¥ä»£æ›¿git push åé¢å†™çš„åœ°å€äº†git push origin master è¿˜å¯ä»¥å°½ä¸€æ­¥ç®€åŒ– åœ¨pushæ—¶åŠ ä¸Š-uå‚æ•°ï¼Œå°±ä¼šé»˜è®¤å»ºç«‹æœ¬åœ°å½“å‰åˆ†æ”¯ä¸è¿œç¨‹æŒ‡å®šåˆ†æ”¯çš„å…³è”,ä¸‹ä¸€æ¬¡pushæ—¶å°±ä¸éœ€è¦è¾“å…¥åˆ†æ”¯åäº†git push origin; ###","tags":[{"name":"git","slug":"git","permalink":"http://liufusong.github.io/tags/git/"},{"name":"githug","slug":"githug","permalink":"http://liufusong.github.io/tags/githug/"}]}]